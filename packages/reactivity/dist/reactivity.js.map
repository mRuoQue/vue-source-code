{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/effect.ts", "../src/reactiveEffect.ts", "../src/baseHandler.ts", "../src/reactive.ts", "../src/ref.ts", "../src/watch.ts", "../src/computed.ts"],
  "sourcesContent": ["export function isObject(obj) {\r\n  return obj !== null && typeof obj === \"object\";\r\n}\r\n\r\nexport function isFunction(obj) {\r\n  return typeof obj === \"function\";\r\n}\r\n", "import { DirtyLevels } from \"./constant\";\r\nexport let activeEffect;\r\n\r\nexport function effect(fn: any, options?) {\r\n  const _effect = new ReactiveEffect(fn, () => {\r\n    _effect.run();\r\n  });\r\n\r\n  _effect.run();\r\n\r\n  // \u6DFB\u52A0options\uFF0C\u624B\u52A8\u66F4\u65B0scheduler\r\n  if (options) {\r\n    Object.assign(_effect, options);\r\n  }\r\n  // \u65B9\u4FBF\u7528\u6237\u624B\u52A8\u8C03\u7528\r\n  const runner = _effect.run.bind(_effect);\r\n  // \u66B4\u6F0F\u51FA\u53BBeffect\u7684\u5F15\u7528\r\n  runner.effect = _effect;\r\n  return runner;\r\n}\r\n\r\n/**\r\n * \u4F9D\u8D56\u6536\u96C6\r\n * @param fn \u6267\u884C\u51FD\u6570\r\n * @param scheduler \u89E6\u53D1\u51FD\u6570\uFF0C\u4F1A\u6267\u884Ceffect.run()\u66F4\u65B0\u89C6\u56FE\r\n * @returns ReactiveEffect\r\n * @example effect(() => {})\r\n */\r\nexport class ReactiveEffect {\r\n  public active: boolean = true;\r\n  _running = 0; // effec.run()\u8FD0\u884C\u4E2D \uFF08\u907F\u514D\u6B7B\u5FAA\u73AF\uFF0Cstate\u6539\u53D8\uFF0C\u5FAA\u73AF\u8C03\u7528scheduler\uFF09\r\n  _trackId = 0; // \u8BB0\u5F55\u6267\u884C\u7684\u6B21\u6570\uFF0C\u907F\u514D\u540C\u4E00\u4E2A\u5C5E\u6027\u591A\u6B21\u6536\u96C6\r\n  _depsLength = 0;\r\n  _dirtyLevel = DirtyLevels.Dirty;\r\n  deps = []; // \u53CD\u5411\u8BB0\u5F55effect\uFF0C\u65B9\u4FBF\u540E\u7EEDdiff\uFF0C\u6700\u5927\u91CF\u590D\u7528\u4F9D\u8D56\r\n\r\n  constructor(public fn: () => void, public scheduler?: () => void) {\r\n    this.fn = fn;\r\n    this.scheduler = scheduler;\r\n  }\r\n\r\n  public get dirty() {\r\n    return this._dirtyLevel === DirtyLevels.Dirty;\r\n  }\r\n  public set dirty(value) {\r\n    this._dirtyLevel = value ? DirtyLevels.Dirty : DirtyLevels.Clean;\r\n  }\r\n\r\n  run() {\r\n    this._dirtyLevel = DirtyLevels.NoDirty;\r\n    if (!this.active) {\r\n      return this.fn();\r\n    }\r\n    // \u4FDD\u7559\u4E0A\u4E00\u6B21\u7684effect\uFF0C\u907F\u514Deffect \u5D4C\u5957\u5BFC\u81F4effect\u7684\u4F9D\u8D56\u6536\u96C6\u9519\u8BEF\uFF0C\u4FDD\u8BC1\u6700\u540E\u4E00\u6B21\u7684effect\u662F\u6B63\u786E\r\n    let nextActiveEffrct = activeEffect;\r\n    try {\r\n      // \u4FDD\u5B58\u5F53\u524D\u7684effect\u5230\u5168\u5C40\u53D8\u91CF\r\n      activeEffect = this;\r\n      // console.log(\"effect run ...\");\r\n      // \u6E05\u9664\u4E0A\u6B21\u7684\u4F9D\u8D56\r\n      cleanupPreEffect(this);\r\n      this._running++;\r\n      return this.fn();\r\n    } finally {\r\n      this._running--;\r\n      overflowDepEffect(this);\r\n      activeEffect = nextActiveEffrct;\r\n    }\r\n  }\r\n  stop() {\r\n    if (this.active) {\r\n      this.active = false;\r\n      overflowDepEffect(this);\r\n      cleanupPreEffect(this);\r\n    }\r\n  }\r\n}\r\n\r\n// \u6E05\u9664\u4E0A\u4E00\u6B21\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u91CD\u65B0diff \u4F9D\u8D56\uFF0C\u6700\u5927\u9650\u5EA6\u590D\u7528\r\nfunction cleanupPreEffect(effect) {\r\n  effect._depsLength = 0;\r\n  effect._trackId++;\r\n}\r\n// \u6E05\u9664\u4F9D\u8D56\r\nfunction cleanupDepEffect(dep, effect) {\r\n  dep.delete(effect);\r\n  if (dep.size == 0) {\r\n    dep?.cleanup();\r\n  }\r\n}\r\n\r\n// \u6EA2\u51FA\u7684\u4F9D\u8D56\uFF0C\u9700\u8981\u6E05\u9664\u6389\r\nfunction overflowDepEffect(effect) {\r\n  if (effect._depsLength < effect.deps.length) {\r\n    for (let i = effect._depsLength; i < effect.deps.length; i++) {\r\n      let dep = effect.deps[i];\r\n      cleanupDepEffect(dep, effect);\r\n    }\r\n  }\r\n}\r\n\r\n/***\r\n * \u6DFB\u52A0\u4F9D\u8D56,\u5982\u679C\u9700\u8981\u91CD\u65B0\u6536\u96C6\u4F9D\u8D56\uFF0C\u5C3D\u53EF\u80FD\u590D\u7528\u65E7\u7684\u4F9D\u8D56\uFF0C\u4E0D\u9700\u8981\u7684\u6E05\u9664\u6389\r\n * @param effect \u5F53\u524D\u7684effect\r\n * @param dep \u5F53\u524D\u7684\u4F9D\u8D56 -> {ReactiveEffect, _trackId}\r\n */\r\nexport function trackEffect(effect, dep) {\r\n  // \u4F18\u5316\u591A\u6B21\u6536\u96C6\u76F8\u540C\u5C5E\u6027\r\n  if (effect._trackId !== dep.get(effect)) {\r\n    // \u6DFB\u52A0\u4F9D\u8D56\r\n    dep.set(effect, effect._trackId);\r\n\r\n    // \u53D6\u4E4B\u524D\u7684effect\r\n    const oldDep = effect.deps[effect._depsLength];\r\n    // \u6CA1oldDep\uFF0C\u8BF4\u660E\u662F\u65B0\u7684\u4F9D\u8D56\uFF0C\u9700\u8981\u4FDD\u5B58\u5230effect\u4E2D\r\n    if (oldDep !== dep) {\r\n      // \u4FDD\u5B58\u8FC7\uFF0C\u9700\u8981\u5220\u9664\u65E7\u7684\u4F9D\u8D56\r\n      if (oldDep) {\r\n        cleanupDepEffect(oldDep, effect);\r\n      }\r\n      // \u4FDD\u5B58\u4F9D\u8D56\u5230effect\u4E2D,\u6700\u65B0\u7684dep\r\n      effect.deps[effect._depsLength++] = dep;\r\n    } else {\r\n      // \u76F8\u540C\uFF0C\u8BF4\u660E\u662F\u540C\u4E00\u4E2A\u4F9D\u8D56\uFF0C\u4E0D\u7528\u91CD\u590D\u6536\u96C6,\u6BD4\u8F83\u4E0B\u4E00\u4E2A\r\n      effect._depsLength++;\r\n    }\r\n  }\r\n}\r\n\r\nexport function triggerEffect(dep) {\r\n  const effects = dep.keys();\r\n  effects.forEach((effect) => {\r\n    if (effect._dirtyLevel < DirtyLevels.Dirty) {\r\n      effect._dirtyLevel = DirtyLevels.Dirty;\r\n    }\r\n    if (!effect._running) {\r\n      if (effect.scheduler) {\r\n        effect.scheduler();\r\n      }\r\n    }\r\n  });\r\n}\r\n", "import { activeEffect, triggerEffect, trackEffect } from \"./effect\";\r\n\r\nlet targetMap = new WeakMap();\r\n/**\r\n *\r\n *  {name:'xiaoma',age:18} : {\r\n *\r\n *      name: {\r\n *\r\n *        effect : 0\r\n *      }\r\n *   }\r\n * }\r\n *\r\n */\r\n\r\n// \u4F9D\u8D56\u6536\u96C6\r\nexport function track(target, key) {\r\n  // \u53D6\u5230\u5168\u5C40\u5B58\u7684effect\uFF0C\u6784\u5EFA\u4F9D\u8D56\u5173\u7CFB targer->{map:key->map:effect}\r\n  if (activeEffect) {\r\n    let depMap = targetMap.get(target);\r\n    if (!depMap) {\r\n      targetMap.set(target, (depMap = new Map()));\r\n    }\r\n    let dep = depMap.get(key);\r\n    if (!dep) {\r\n      depMap.set(key, (dep = createDep(() => depMap.delete(key), key)));\r\n    }\r\n    // \u5C06effect \u6536\u96C6\u5230dep\u4E2D\uFF0C\u6784\u5EFA\u6536\u96C6\u5668\u96C6\u5408\r\n    trackEffect(activeEffect, dep);\r\n  }\r\n}\r\n\r\nexport function createDep(cleanup, key) {\r\n  let dep = new Map() as any;\r\n  dep.cleanup = cleanup;\r\n  dep.name = key;\r\n\r\n  return dep;\r\n}\r\n\r\nexport function trigger(targer, key, value, oldValue) {\r\n  let depMap = targetMap.get(targer);\r\n  if (!depMap) {\r\n    return;\r\n  }\r\n\r\n  let dep = depMap.get(key);\r\n  if (dep) {\r\n    triggerEffect(dep);\r\n  }\r\n}\r\n", "import { isObject } from \"@vue/shared\";\r\nimport { track, trigger } from \"./reactiveEffect\";\r\nimport { reactive } from \"./reactive\";\r\nimport { ReactiveFlags } from \"./constant\";\r\n\r\nexport const baseHandlers: ProxyHandler<any> = {\r\n  get(target, key, receiver) {\r\n    if (key === ReactiveFlags.IS_REACTIVE) {\r\n      return true;\r\n    }\r\n\r\n    // \u6536\u96C6\u4F9D\u8D56\r\n    track(target, key);\r\n\r\n    let res = Reflect.get(target, key, receiver);\r\n    // \u6DF1\u5EA6\u4EE3\u7406\r\n    if (isObject(res)) {\r\n      return reactive(res);\r\n    }\r\n    return res;\r\n  },\r\n\r\n  set(target, key, value, receiver) {\r\n    let oldValue = target[key];\r\n\r\n    let res = Reflect.set(target, key, value, receiver);\r\n    // \u89E6\u53D1\u9875\u9762\u66F4\u65B0\r\n    if (oldValue !== value) {\r\n      trigger(target, key, value, oldValue);\r\n    }\r\n    return res;\r\n  },\r\n};\r\n", "import { isObject } from \"@vue/shared\";\r\nimport { baseHandlers } from \"./baseHandler\";\r\nimport { ReactiveFlags } from \"./constant\";\r\n\r\nexport function reactive(target) {\r\n  return createReactiveObject(target);\r\n}\r\n\r\nfunction createReactiveObject(target) {\r\n  if (!isObject(target)) {\r\n    return true;\r\n  }\r\n  if (target[ReactiveFlags.IS_REACTIVE]) {\r\n    return true;\r\n  }\r\n  const proxy = new Proxy(target, baseHandlers);\r\n\r\n  return proxy;\r\n}\r\n\r\nexport function toReactive(value) {\r\n  return isObject(value) ? reactive(value) : value;\r\n}\r\n\r\nexport function isReactive(value) {\r\n  return !!(value && value[ReactiveFlags.IS_REACTIVE]);\r\n}\r\n", "import { activeEffect, trackEffect, triggerEffect } from \"./effect\";\r\nimport { toReactive } from \"./reactive\";\r\nimport { createDep } from \"./reactiveEffect\";\r\n\r\nexport function ref(value) {\r\n  return createRef(value);\r\n}\r\n\r\nfunction createRef(value) {\r\n  return new RefImpl(value);\r\n}\r\n\r\nclass RefImpl {\r\n  public __v_isRef = true; // \u6807\u8BC6\u5F53\u524D\u5B9E\u4F8B\u662F\u5426\u662Fref\u7C7B\u578B\r\n  public _value;\r\n  public dep;\r\n  constructor(public rawValue) {\r\n    this.rawValue = rawValue;\r\n    this._value = toReactive(rawValue);\r\n  }\r\n  get value() {\r\n    // \u6536\u96C6\u4F9D\u8D56\r\n    trackRefValue(this);\r\n    return this._value;\r\n  }\r\n  set value(newValue) {\r\n    if (newValue !== this.rawValue) {\r\n      this.rawValue = newValue;\r\n      this._value = newValue;\r\n      // \u89E6\u53D1\u66F4\u65B0\r\n      triggerRefValue(this);\r\n    }\r\n  }\r\n}\r\n\r\nexport function trackRefValue(ref) {\r\n  if (activeEffect) {\r\n    trackEffect(\r\n      activeEffect,\r\n      (ref.dep = ref.dep || createDep(() => (ref.dep = undefined), \"undefined\"))\r\n    );\r\n  }\r\n}\r\n\r\nexport function triggerRefValue(ref) {\r\n  if (ref.dep) {\r\n    triggerEffect(ref.dep);\r\n  }\r\n}\r\n\r\nexport function toRef(object, key) {\r\n  return new ObjectRefImpl(object, key);\r\n}\r\n\r\nexport function toRefs(object) {\r\n  let res = {};\r\n  for (const key in object) {\r\n    res[key] = toRef(object, key);\r\n  }\r\n\r\n  return res;\r\n}\r\nexport function proxyRefs(objectIsRef) {\r\n  return new Proxy(objectIsRef, {\r\n    get(target, key, reactive) {\r\n      const res = Reflect.get(target, key, reactive);\r\n      return res.__v_isRef ? res.value : res;\r\n    },\r\n    set(target, key, value, reactive) {\r\n      const oldValue = target[key];\r\n      if (oldValue.__v_isRef) {\r\n        oldValue.value = value;\r\n        return true;\r\n      } else {\r\n        return Reflect.set(target, key, value, reactive);\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nclass ObjectRefImpl {\r\n  public __v_isRef = true;\r\n  constructor(public _object, public _key) {}\r\n  get value() {\r\n    return this._object[this._key];\r\n  }\r\n  set value(newValue) {\r\n    this._object[this._key] = newValue;\r\n  }\r\n}\r\n\r\nexport function isRef(value) {\r\n  return !!(value && value.__v_isRef);\r\n}\r\n", "import { isFunction, isObject } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { isReactive } from \"./reactive\";\r\nimport { isRef } from \"./ref\";\r\n\r\nexport function watch(source, cb, options = {} as any) {\r\n  return createWatch(source, cb, options);\r\n}\r\n\r\nexport function watchEffect(getter, options = {} as any) {\r\n  return createWatch(getter, null, options);\r\n}\r\n\r\nexport function createWatch(source, cb, { deep, immediate }) {\r\n  let oldValue;\r\n  let _oldValue;\r\n  let getter;\r\n  let cleanup; // \u95ED\u5305\u50A8\u5B58\u6E05\u7406\u56DE\u8C03\r\n  // \u5C06 state\u5305\u88C5\u6210\u51FD\u6570\u4F9B ReactiveEffect\u4F7F\u7528\r\n\r\n  if (isFunction(source)) {\r\n    getter = source;\r\n  } else if (isReactive(source)) {\r\n    getter = () => createReactiveGetter(source);\r\n  } else if (isRef(source)) {\r\n    getter = source.value;\r\n  }\r\n  const onCleanup = (fn) => {\r\n    cleanup = () => {\r\n      fn();\r\n      cleanup = null;\r\n    };\r\n  };\r\n\r\n  const createReactiveGetter = (source) => traverse(source, deep);\r\n  const scheduler = () => {\r\n    if (!cb) {\r\n      _effect.run();\r\n    } else {\r\n      let newValue = _effect.run();\r\n      // \u6E05\u7406\u4E0A\u4E00\u6B21\u7684\u56DE\u8C03\uFF0C\u907F\u514D\u591A\u6B21\u8C03\u7528\u65F6\u95F4\u7D0A\u4E71\r\n      // \u7B2C\u4E00\u6B21\u8BF7\u6C42\u7684\u540E\u5230\uFF0C\u5E94\u8BE5\u53D6\u6700\u540E\u4E00\u6B21\u7684\u7ED3\u679C\uFF0C\u6240\u4EE5\u53D6\u6D88\u6389\u4E4B\u524D\u7684\u56DE\u8C03\r\n      if (cleanup) {\r\n        cleanup();\r\n      }\r\n\r\n      cb(newValue, _oldValue, onCleanup);\r\n      oldValue = newValue;\r\n      if (oldValue) {\r\n        _oldValue = JSON.parse(JSON.stringify(oldValue));\r\n      }\r\n    }\r\n  };\r\n  // watch\u76D1\u63A7\u7684state\u5BF9\u5E94\u7684effect\r\n  const _effect = new ReactiveEffect(getter, scheduler);\r\n\r\n  if (cb) {\r\n    // watch\r\n    if (immediate) {\r\n      scheduler();\r\n    } else {\r\n      oldValue = _effect.run();\r\n      //   _oldValue = JSON.parse(JSON.stringify(oldValue));\r\n    }\r\n  } else {\r\n    // watchEffect\r\n    _effect.run();\r\n  }\r\n  const unWatch = () => {\r\n    _effect.stop();\r\n  };\r\n  return unWatch;\r\n}\r\n\r\nfunction traverse(source, deep, currentDeep = 0, seen = new Set()) {\r\n  if (!isObject(source)) {\r\n    return source;\r\n  }\r\n  if (deep) {\r\n    if (deep <= currentDeep) {\r\n      return source;\r\n    }\r\n    currentDeep++;\r\n  }\r\n  if (seen.has(source)) {\r\n    return source;\r\n  }\r\n  for (const key in source) {\r\n    traverse(source[key], deep, currentDeep, seen);\r\n  }\r\n  return source;\r\n}\r\n", "import { isFunction } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { trackRefValue, triggerRefValue } from \"./ref\";\r\nexport function computed(getterOptions) {\r\n  let getter;\r\n  let setter;\r\n  const getterFn = isFunction(getterOptions);\r\n\r\n  if (getterFn) {\r\n    getter = getterOptions;\r\n    setter = () => {\r\n      console.log(\"computed setter fn\");\r\n    };\r\n  } else {\r\n    getter = getterOptions.get;\r\n    setter = getterOptions.set;\r\n  }\r\n\r\n  return new ComputedRefImpl(getter, setter);\r\n}\r\n\r\nclass ComputedRefImpl {\r\n  public dep;\r\n  public _value; // \u7F13\u5B58\u65E7\u503C\r\n  public _effect; // \u8BA1\u7B97\u5C5E\u6027\u7684effect\r\n  constructor(public getter, public setter) {\r\n    this._effect = new ReactiveEffect(\r\n      () => getter(this._value),\r\n      () => {\r\n        // effcet-> scheduler\r\n        triggerRefValue(this);\r\n      }\r\n    );\r\n  }\r\n  get value() {\r\n    if (this._effect.dirty) {\r\n      this._value = this._effect.run();\r\n\r\n      // \u6536\u96C6effect\r\n      trackRefValue(this);\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  set value(newValue) {\r\n    this.setter = newValue;\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": ["effect", "ref", "reactive", "source"]
}
