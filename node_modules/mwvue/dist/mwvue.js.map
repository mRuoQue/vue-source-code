{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/utils.ts", "../../shared/src/vnode.ts", "../../shared/src/shapeFlags.ts", "../../shared/src/patchFlags.ts", "../../shared/src/regexp.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactiveEffect.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/watch.ts", "../../reactivity/src/computed.ts", "../../runtime-core/src/longIncSequeue.ts", "../../runtime-core/src/queueJob.ts", "../../runtime-core/src/component.ts", "../../runtime-core/src/functionalComponent/Teleport.ts", "../../runtime-core/src/createVnode.ts", "../../runtime-core/src/Lifecycle.ts", "../../runtime-core/src/functionalComponent/KeepAlive.ts", "../../runtime-core/src/apiCreateApp.ts", "../../runtime-core/src/createRenderer.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/provide.ts", "../../runtime-core/src/functionalComponent/Transition.ts", "../../runtime-core/src/functionalComponent/defineAsyncComponent.ts", "../../runtime-dom/src/nodeOptions.ts", "../../runtime-dom/src/modules/patchAttr.ts", "../../runtime-dom/src/modules/patchEvent.ts", "../../runtime-dom/src/modules/patchStyle.ts", "../../runtime-dom/src/modules/patchClass.ts", "../../runtime-dom/src/patchProps.ts", "../../compiler-core/src/runtimeHelper.ts", "../../compiler-core/src/ast.ts", "../../compiler-core/src/parse.ts", "../../compiler-core/src/transform.ts", "../../compiler-core/src/compile.ts", "../../runtime-dom/src/index.ts"],
  "sourcesContent": ["export * from \"@mw/reactivity\";\r\nexport * from \"@mw/runtime-core\";\r\n\r\nexport * from \"@mw/runtime-dom\";\r\n\r\nexport * from \"@mw/compiler-core\";\r\n\r\nexport * from \"@mw/shared\";\r\n", "const hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexport function isObject(value) {\r\n  return value !== null && typeof value === \"object\";\r\n}\r\n\r\nexport function isFunction(value) {\r\n  return typeof value === \"function\";\r\n}\r\n\r\nexport function isString(value) {\r\n  return typeof value === \"string\";\r\n}\r\nexport function isNumber(value) {\r\n  return typeof value === \"number\";\r\n}\r\n\r\nexport function isArray(value) {\r\n  return Array.isArray(value);\r\n}\r\nexport function extend(a, b) {\r\n  return Object.assign(a, b);\r\n}\r\nexport function hasOwn(value, key) {\r\n  return hasOwnProperty.call(value, key);\r\n}\r\n", "export function isVnode(value) {\r\n  return value?.__v_isVnode;\r\n}\r\nexport function isSameVnode(n1, n2) {\r\n  return n1.type === n2.type && n1.key === n2.key;\r\n}\r\n", "export const ShapeFlags = {\r\n  ELEMENT: 1,\r\n  \"1\": \"ELEMENT\",\r\n  FUNCTIONAL_COMPONENT: 2,\r\n  \"2\": \"FUNCTIONAL_COMPONENT\",\r\n  STATEFUL_COMPONENT: 4,\r\n  \"4\": \"STATEFUL_COMPONENT\",\r\n  TEXT_CHILDREN: 8,\r\n  \"8\": \"TEXT_CHILDREN\",\r\n  ARRAY_CHILDREN: 16,\r\n  \"16\": \"ARRAY_CHILDREN\",\r\n  SLOTS_CHILDREN: 32,\r\n  \"32\": \"SLOTS_CHILDREN\",\r\n  TELEPORT: 64,\r\n  \"64\": \"TELEPORT\",\r\n  SUSPENSE: 128,\r\n  \"128\": \"SUSPENSE\",\r\n  COMPONENT_SHOULD_KEEP_ALIVE: 256,\r\n  \"256\": \"COMPONENT_SHOULD_KEEP_ALIVE\",\r\n  COMPONENT_KEPT_ALIVE: 512,\r\n  \"512\": \"COMPONENT_KEPT_ALIVE\",\r\n  COMPONENT: 6,\r\n  \"6\": \"COMPONENT\",\r\n};\r\n", "export const PatchFlags = {\r\n  TEXT: 1,\r\n  \"1\": \"TEXT\",\r\n  CLASS: 2,\r\n  \"2\": \"CLASS\",\r\n  STYLE: 4,\r\n  \"4\": \"STYLE\",\r\n  PROPS: 8,\r\n  \"8\": \"PROPS\",\r\n  FULL_PROPS: 16,\r\n  \"16\": \"FULL_PROPS\",\r\n  NEED_HYDRATION: 32,\r\n  \"32\": \"NEED_HYDRATION\",\r\n  STABLE_FRAGMENT: 64,\r\n  \"64\": \"STABLE_FRAGMENT\",\r\n  KEYED_FRAGMENT: 128,\r\n  \"128\": \"KEYED_FRAGMENT\",\r\n  UNKEYED_FRAGMENT: 256,\r\n  \"256\": \"UNKEYED_FRAGMENT\",\r\n  NEED_PATCH: 512,\r\n  \"512\": \"NEED_PATCH\",\r\n  DYNAMIC_SLOTS: 1024,\r\n  \"1024\": \"DYNAMIC_SLOTS\",\r\n  DEV_ROOT_FRAGMENT: 2048,\r\n  \"2048\": \"DEV_ROOT_FRAGMENT\",\r\n  CACHED: -1,\r\n  \"-1\": \"CACHED\",\r\n  BAIL: -2,\r\n  \"-2\": \"BAIL\",\r\n};\r\nexport const PatchFlagNames = {\r\n  [1]: `TEXT`,\r\n  [2]: `CLASS`,\r\n  [4]: `STYLE`,\r\n  [8]: `PROPS`,\r\n  [16]: `FULL_PROPS`,\r\n  [32]: `NEED_HYDRATION`,\r\n  [64]: `STABLE_FRAGMENT`,\r\n  [128]: `KEYED_FRAGMENT`,\r\n  [256]: `UNKEYED_FRAGMENT`,\r\n  [512]: `NEED_PATCH`,\r\n  [1024]: `DYNAMIC_SLOTS`,\r\n  [2048]: `DEV_ROOT_FRAGMENT`,\r\n  [-1]: `HOISTED`,\r\n  [-2]: `BAIL`,\r\n};\r\n", "export const regSpaces = /^[ \\t\\r\\n]+/; // \u5339\u914D\u7A7A\u683C\r\n\r\nexport const regTag = /^<\\/?([a-z][^ \\t\\r\\n/>]*)/; // \u5339\u914D\u6807\u7B7E\r\n\r\nexport const regAttr = /^[^\\t\\r\\n\\f />][^\\t\\r\\n\\f />=]*/; // \u5339\u914D\u5C5E\u6027\u540D\r\n\r\nexport const regSpaceEqual = /^[\\t\\r\\n\\f ]*=/; // \u5339\u914D\u7A7A\u683C =\r\n\r\nexport const regSpaceChar = /[^\\t\\r\\n\\f ]/; // \u5339\u914D\u7A7A\u767D\u5B57\u7B26\r\n", "import { DirtyLevels } from \"./constant\";\r\nexport let activeEffect;\r\n\r\nexport function effect(fn: any, options?) {\r\n  const _effect = new ReactiveEffect(fn, () => {\r\n    _effect.run();\r\n  });\r\n\r\n  _effect.run();\r\n\r\n  // \u6DFB\u52A0options\uFF0C\u624B\u52A8\u66F4\u65B0scheduler\r\n  if (options) {\r\n    Object.assign(_effect, options);\r\n  }\r\n  // \u65B9\u4FBF\u7528\u6237\u624B\u52A8\u8C03\u7528\r\n  const runner = _effect.run.bind(_effect);\r\n  // \u66B4\u6F0F\u51FA\u53BBeffect\u7684\u5F15\u7528\r\n  runner.effect = _effect;\r\n  return runner;\r\n}\r\n\r\n/**\r\n * \u4F9D\u8D56\u6536\u96C6\r\n * @param { Function } fn effect\u4F20\u5165\u7684\u6267\u884C\u51FD\u6570\r\n * @param { Scheduler } scheduler \u89E6\u53D1\u51FD\u6570\uFF0C\u4F1A\u6267\u884Ceffect.run()\u66F4\u65B0\u89C6\u56FE\r\n * @returns { ReactiveEffect } ReactiveEffect \u5F53\u524Deffect\u5B9E\u4F8B\r\n * @example effect(() => {})\r\n */\r\n\r\nexport class ReactiveEffect {\r\n  public active: boolean = true;\r\n  _running = 0; // effec.run()\u8FD0\u884C\u4E2D \uFF08\u907F\u514D\u6B7B\u5FAA\u73AF\uFF0Cstate\u6539\u53D8\uFF0C\u5FAA\u73AF\u8C03\u7528scheduler\uFF09\r\n  _trackId = 0; // \u8BB0\u5F55\u6267\u884C\u7684\u6B21\u6570\uFF0C\u907F\u514D\u540C\u4E00\u4E2A\u5C5E\u6027\u591A\u6B21\u6536\u96C6\r\n  _depsLength = 0;\r\n  _dirtyLevel = DirtyLevels.Dirty;\r\n  deps = []; // \u53CD\u5411\u8BB0\u5F55effect\uFF0C\u65B9\u4FBF\u540E\u7EEDdiff\uFF0C\u6700\u5927\u91CF\u590D\u7528\u4F9D\u8D56\r\n\r\n  constructor(public fn: () => void, public scheduler?: () => void) {\r\n    this.fn = fn;\r\n    this.scheduler = scheduler;\r\n  }\r\n\r\n  public get dirty() {\r\n    return this._dirtyLevel === DirtyLevels.Dirty;\r\n  }\r\n  public set dirty(value) {\r\n    this._dirtyLevel = value ? DirtyLevels.Dirty : DirtyLevels.Clean;\r\n  }\r\n\r\n  run() {\r\n    this._dirtyLevel = DirtyLevels.NoDirty;\r\n    if (!this.active) {\r\n      return this.fn();\r\n    }\r\n    // \u4FDD\u7559\u4E0A\u4E00\u6B21\u7684effect\uFF0C\u907F\u514Deffect \u5D4C\u5957\u5BFC\u81F4effect\u7684\u4F9D\u8D56\u6536\u96C6\u9519\u8BEF\uFF0C\u4FDD\u8BC1\u6700\u540E\u4E00\u6B21\u7684effect\u662F\u6B63\u786E\r\n    let nextActiveEffrct = activeEffect;\r\n    try {\r\n      // \u4FDD\u5B58\u5F53\u524D\u7684effect\u5230\u5168\u5C40\u53D8\u91CF\r\n      activeEffect = this;\r\n      // console.log(\"effect run ...\");\r\n      // \u6E05\u9664\u4E0A\u6B21\u7684\u4F9D\u8D56\r\n      cleanupPreEffect(this);\r\n      this._running++;\r\n      return this.fn();\r\n    } finally {\r\n      this._running--;\r\n      overflowDepEffect(this);\r\n      activeEffect = nextActiveEffrct;\r\n    }\r\n  }\r\n  stop() {\r\n    if (this.active) {\r\n      this.active = false;\r\n      overflowDepEffect(this);\r\n      cleanupPreEffect(this);\r\n    }\r\n  }\r\n}\r\n\r\n// \u6E05\u9664\u4E0A\u4E00\u6B21\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u91CD\u65B0diff \u4F9D\u8D56\uFF0C\u6700\u5927\u9650\u5EA6\u590D\u7528\r\nfunction cleanupPreEffect(effect) {\r\n  effect._depsLength = 0;\r\n  effect._trackId++;\r\n}\r\n// \u6E05\u9664\u4F9D\u8D56\r\nfunction cleanupDepEffect(dep, effect) {\r\n  dep.delete(effect);\r\n  if (dep.size == 0) {\r\n    dep?.cleanup();\r\n  }\r\n}\r\n\r\n// \u6EA2\u51FA\u7684\u4F9D\u8D56\uFF0C\u9700\u8981\u6E05\u9664\u6389\r\nfunction overflowDepEffect(effect) {\r\n  if (effect._depsLength < effect.deps.length) {\r\n    for (let i = effect._depsLength; i < effect.deps.length; i++) {\r\n      let dep = effect.deps[i];\r\n      cleanupDepEffect(dep, effect);\r\n    }\r\n  }\r\n}\r\n\r\n/***\r\n * \u6DFB\u52A0\u4F9D\u8D56,\u5982\u679C\u9700\u8981\u91CD\u65B0\u6536\u96C6\u4F9D\u8D56\uFF0C\u5C3D\u53EF\u80FD\u590D\u7528\u65E7\u7684\u4F9D\u8D56\uFF0C\u4E0D\u9700\u8981\u7684\u6E05\u9664\u6389\r\n * @param {effect} \u5F53\u524D\u7684effect\r\n * @param {dep} \u5F53\u524D\u7684\u4F9D\u8D56 -> {ReactiveEffect, _trackId}\r\n */\r\nexport function trackEffect(effect, dep) {\r\n  // \u4F18\u5316\u591A\u6B21\u6536\u96C6\u76F8\u540C\u5C5E\u6027\r\n  if (effect._trackId !== dep.get(effect)) {\r\n    // \u6DFB\u52A0\u4F9D\u8D56\r\n    dep.set(effect, effect._trackId);\r\n\r\n    // \u53D6\u4E4B\u524D\u7684effect\r\n    const oldDep = effect.deps[effect._depsLength];\r\n    // \u6CA1oldDep\uFF0C\u8BF4\u660E\u662F\u65B0\u7684\u4F9D\u8D56\uFF0C\u9700\u8981\u4FDD\u5B58\u5230effect\u4E2D\r\n    if (oldDep !== dep) {\r\n      // \u4FDD\u5B58\u8FC7\uFF0C\u9700\u8981\u5220\u9664\u65E7\u7684\u4F9D\u8D56\r\n      if (oldDep) {\r\n        cleanupDepEffect(oldDep, effect);\r\n      }\r\n      // \u4FDD\u5B58\u4F9D\u8D56\u5230effect\u4E2D,\u6700\u65B0\u7684dep\r\n      effect.deps[effect._depsLength++] = dep;\r\n    } else {\r\n      // \u76F8\u540C\uFF0C\u8BF4\u660E\u662F\u540C\u4E00\u4E2A\u4F9D\u8D56\uFF0C\u4E0D\u7528\u91CD\u590D\u6536\u96C6,\u6BD4\u8F83\u4E0B\u4E00\u4E2A\r\n      effect._depsLength++;\r\n    }\r\n  }\r\n}\r\n\r\nexport function triggerEffect(dep) {\r\n  const effects = dep.keys();\r\n  effects.forEach((effect) => {\r\n    if (effect._dirtyLevel < DirtyLevels.Dirty) {\r\n      effect._dirtyLevel = DirtyLevels.Dirty;\r\n    }\r\n    if (!effect._running) {\r\n      if (effect.scheduler) {\r\n        effect.scheduler();\r\n      }\r\n    }\r\n  });\r\n}\r\n", "import { activeEffect, triggerEffect, trackEffect } from \"./effect\";\r\n\r\nlet targetMap = new WeakMap();\r\n/**\r\n * dep\u7684\u6570\u636E\u683C\u5F0F\r\n *  {name:'xiaoma',age:18} : {\r\n *      name: { effect : 0 }\r\n *   }\r\n * }\r\n *\r\n */\r\n\r\n// \u4F9D\u8D56\u6536\u96C6\r\nexport function track(target, key) {\r\n  // \u53D6\u5230\u5168\u5C40\u5B58\u7684effect\uFF0C\u6784\u5EFA\u4F9D\u8D56\u5173\u7CFB targer->{map:key->map:effect}\r\n  if (activeEffect) {\r\n    let depMap = targetMap.get(target);\r\n    if (!depMap) {\r\n      targetMap.set(target, (depMap = new Map()));\r\n    }\r\n    let dep = depMap.get(key);\r\n    if (!dep) {\r\n      depMap.set(key, (dep = createDep(() => depMap.delete(key), key)));\r\n    }\r\n    // \u5C06effect \u6536\u96C6\u5230dep\u4E2D\uFF0C\u6784\u5EFA\u6536\u96C6\u5668\u96C6\u5408\r\n    trackEffect(activeEffect, dep);\r\n  }\r\n}\r\n\r\nexport function createDep(cleanup, key) {\r\n  let dep = new Map() as any;\r\n  dep.cleanup = cleanup;\r\n  dep.name = key;\r\n\r\n  return dep;\r\n}\r\n\r\nexport function trigger(targer, key, value, oldValue) {\r\n  let depMap = targetMap.get(targer);\r\n  if (!depMap) {\r\n    return;\r\n  }\r\n\r\n  let dep = depMap.get(key);\r\n  if (dep) {\r\n    triggerEffect(dep);\r\n  }\r\n}\r\n", "import { isObject } from \"@mw/shared\";\r\nimport { track, trigger } from \"./reactiveEffect\";\r\nimport { reactive } from \"./reactive\";\r\nimport { ReactiveFlags } from \"./constant\";\r\n\r\nexport const baseHandlers: ProxyHandler<any> = {\r\n  get(target, key, receiver) {\r\n    if (key === ReactiveFlags.IS_REACTIVE) {\r\n      return true;\r\n    }\r\n\r\n    // \u6536\u96C6\u4F9D\u8D56\r\n    track(target, key);\r\n\r\n    let res = Reflect.get(target, key, receiver);\r\n    // \u6DF1\u5EA6\u4EE3\u7406\r\n    if (isObject(res)) {\r\n      return reactive(res);\r\n    }\r\n    return res;\r\n  },\r\n\r\n  set(target, key, value, receiver) {\r\n    let oldValue = target[key];\r\n\r\n    let res = Reflect.set(target, key, value, receiver);\r\n    // \u89E6\u53D1\u9875\u9762\u66F4\u65B0\r\n    if (oldValue !== value) {\r\n      trigger(target, key, value, oldValue);\r\n    }\r\n    return res;\r\n  },\r\n};\r\n", "import { isObject } from \"@mw/shared\";\r\nimport { baseHandlers } from \"./baseHandler\";\r\nimport { ReactiveFlags } from \"./constant\";\r\n\r\nexport function reactive(target) {\r\n  return createReactiveObject(target);\r\n}\r\n\r\nfunction createReactiveObject(target) {\r\n  if (!isObject(target)) {\r\n    return true;\r\n  }\r\n  if (target[ReactiveFlags.IS_REACTIVE]) {\r\n    return true;\r\n  }\r\n  const proxy = new Proxy(target, baseHandlers);\r\n\r\n  return proxy;\r\n}\r\n\r\nexport function toReactive(value) {\r\n  return isObject(value) ? reactive(value) : value;\r\n}\r\n\r\nexport function isReactive(value) {\r\n  return !!(value && value[ReactiveFlags.IS_REACTIVE]);\r\n}\r\n", "import { activeEffect, trackEffect, triggerEffect } from \"./effect\";\r\nimport { toReactive } from \"./reactive\";\r\nimport { createDep } from \"./reactiveEffect\";\r\n\r\nexport function ref(value) {\r\n  return createRef(value);\r\n}\r\n\r\nfunction createRef(value) {\r\n  return new RefImpl(value);\r\n}\r\n\r\nclass RefImpl {\r\n  public __v_isRef = true; // \u6807\u8BC6\u5F53\u524D\u5B9E\u4F8B\u662F\u5426\u662Fref\u7C7B\u578B\r\n  public _value;\r\n  public dep;\r\n  constructor(public rawValue) {\r\n    this.rawValue = rawValue;\r\n    this._value = toReactive(rawValue);\r\n  }\r\n  get value() {\r\n    // \u6536\u96C6\u4F9D\u8D56\r\n    trackRefValue(this);\r\n    return this._value;\r\n  }\r\n  set value(newValue) {\r\n    if (newValue !== this.rawValue) {\r\n      this.rawValue = newValue;\r\n      this._value = newValue;\r\n      // \u89E6\u53D1\u66F4\u65B0\r\n      triggerRefValue(this);\r\n    }\r\n  }\r\n}\r\n\r\nexport function trackRefValue(ref) {\r\n  if (activeEffect) {\r\n    trackEffect(\r\n      activeEffect,\r\n      (ref.dep = ref.dep || createDep(() => (ref.dep = undefined), \"undefined\"))\r\n    );\r\n  }\r\n}\r\n\r\nexport function triggerRefValue(ref) {\r\n  if (ref.dep) {\r\n    triggerEffect(ref.dep);\r\n  }\r\n}\r\n\r\nexport function toRef(object, key) {\r\n  return new ObjectRefImpl(object, key);\r\n}\r\n\r\nexport function toRefs(object) {\r\n  let res = {};\r\n  for (const key in object) {\r\n    res[key] = toRef(object, key);\r\n  }\r\n\r\n  return res;\r\n}\r\nexport function proxyRefs(objectIsRef) {\r\n  return new Proxy(objectIsRef, {\r\n    get(target, key, reactive) {\r\n      const res = Reflect.get(target, key, reactive);\r\n      return res.__v_isRef ? res.value : res;\r\n    },\r\n    set(target, key, value, reactive) {\r\n      const oldValue = target[key];\r\n      if (oldValue.__v_isRef) {\r\n        oldValue.value = value;\r\n        return true;\r\n      } else {\r\n        return Reflect.set(target, key, value, reactive);\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nclass ObjectRefImpl {\r\n  public __v_isRef = true;\r\n  constructor(public _object, public _key) {}\r\n  get value() {\r\n    return this._object[this._key];\r\n  }\r\n  set value(newValue) {\r\n    this._object[this._key] = newValue;\r\n  }\r\n}\r\n\r\nexport function isRef(value) {\r\n  return !!(value && value.__v_isRef);\r\n}\r\n", "import { isFunction, isObject } from \"@mw/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { isReactive } from \"./reactive\";\r\nimport { isRef } from \"./ref\";\r\n\r\n/**\r\n * @param {source} \u76D1\u542C\u7684\u6570\u636E\r\n * @param {cb} \u56DE\u8C03\u51FD\u6570\r\n * @param {options = {deep:true,immediate:true} \u914D\u7F6E\u9879\r\n * @returns\r\n */\r\nexport function watch(source, cb, options = {} as any) {\r\n  return createWatch(source, cb, options);\r\n}\r\n\r\nexport function watchEffect(getter, options = {} as any) {\r\n  return createWatch(getter, null, options);\r\n}\r\n\r\nexport function createWatch(source, cb, { deep, immediate }) {\r\n  let oldValue;\r\n  let _oldValue;\r\n  let getter;\r\n  let cleanup; // \u95ED\u5305\u50A8\u5B58\u6E05\u7406\u56DE\u8C03\r\n  // \u5C06 state\u5305\u88C5\u6210\u51FD\u6570\u4F9B ReactiveEffect\u4F7F\u7528\r\n\r\n  if (isFunction(source)) {\r\n    getter = source;\r\n  } else if (isReactive(source)) {\r\n    getter = () => createReactiveGetter(source);\r\n  } else if (isRef(source)) {\r\n    getter = source.value;\r\n  }\r\n  const onCleanup = (fn) => {\r\n    cleanup = () => {\r\n      fn();\r\n      cleanup = null;\r\n    };\r\n  };\r\n\r\n  const createReactiveGetter = (source) => traverse(source, deep);\r\n  const scheduler = () => {\r\n    if (!cb) {\r\n      _effect.run();\r\n    } else {\r\n      let newValue = _effect.run();\r\n      // \u6E05\u7406\u4E0A\u4E00\u6B21\u7684\u56DE\u8C03\uFF0C\u907F\u514D\u591A\u6B21\u8C03\u7528\u65F6\u95F4\u7D0A\u4E71\r\n      // \u7B2C\u4E00\u6B21\u8BF7\u6C42\u7684\u540E\u5230\uFF0C\u5E94\u8BE5\u53D6\u6700\u540E\u4E00\u6B21\u7684\u7ED3\u679C\uFF0C\u6240\u4EE5\u53D6\u6D88\u6389\u4E4B\u524D\u7684\u56DE\u8C03\r\n      if (cleanup) {\r\n        cleanup();\r\n      }\r\n\r\n      cb(newValue, _oldValue, onCleanup);\r\n      oldValue = newValue;\r\n      if (oldValue) {\r\n        _oldValue = JSON.parse(JSON.stringify(oldValue));\r\n      }\r\n    }\r\n  };\r\n  // watch\u76D1\u63A7\u7684state\u5BF9\u5E94\u7684effect\r\n  const _effect = new ReactiveEffect(getter, scheduler);\r\n\r\n  if (cb) {\r\n    // watch\r\n    if (immediate) {\r\n      scheduler();\r\n    } else {\r\n      oldValue = _effect.run();\r\n      _oldValue = JSON.parse(JSON.stringify(oldValue));\r\n    }\r\n  } else {\r\n    // watchEffect\r\n    _effect.run();\r\n  }\r\n  const unWatch = () => {\r\n    _effect.stop();\r\n  };\r\n  return unWatch;\r\n}\r\n\r\nfunction traverse(source, deep, currentDeep = 0, seen = new Set()) {\r\n  if (!isObject(source)) {\r\n    return source;\r\n  }\r\n  if (deep) {\r\n    if (deep <= currentDeep) {\r\n      return source;\r\n    }\r\n    currentDeep++;\r\n  }\r\n  if (seen.has(source)) {\r\n    return source;\r\n  }\r\n  for (const key in source) {\r\n    traverse(source[key], deep, currentDeep, seen);\r\n  }\r\n  return source;\r\n}\r\n", "import { isFunction } from \"@mw/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { trackRefValue, triggerRefValue } from \"./ref\";\r\nexport function computed(getterOptions) {\r\n  let getter;\r\n  let setter;\r\n  const getterFn = isFunction(getterOptions);\r\n\r\n  if (getterFn) {\r\n    getter = getterOptions;\r\n    setter = () => {\r\n      console.log(\"computed setter fn\");\r\n    };\r\n  } else {\r\n    getter = getterOptions.get;\r\n    setter = getterOptions.set;\r\n  }\r\n\r\n  return new ComputedRefImpl(getter, setter);\r\n}\r\n\r\nclass ComputedRefImpl {\r\n  public dep;\r\n  public _value; // \u7F13\u5B58\u65E7\u503C\r\n  public _effect; // \u8BA1\u7B97\u5C5E\u6027\u7684effect\r\n  constructor(public getter, public setter) {\r\n    this._effect = new ReactiveEffect(\r\n      () => getter(this._value),\r\n      () => {\r\n        // effcet-> scheduler\r\n        triggerRefValue(this);\r\n      }\r\n    );\r\n  }\r\n  get value() {\r\n    if (this._effect.dirty) {\r\n      this._value = this._effect.run();\r\n\r\n      // \u6536\u96C6effect\r\n      trackRefValue(this);\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  set value(newValue) {\r\n    this.setter = newValue;\r\n  }\r\n}\r\n", "export default function longIncSequeue(arr) {\r\n  let start, end, middle;\r\n  const result = [0];\r\n  const diffLen = arr.length;\r\n  const prevIndexArr = result.slice(0); // \u8BB0\u5F55\u5B50\u5E8F\u5217\u4E2D\u5F53\u524D\u5143\u7D20\u7684\u4E0A\u4E00\u4E2A\u7D22\u5F15\r\n\r\n  for (let i = 0; i < diffLen; i++) {\r\n    const cur = arr[i];\r\n    // cur =0 \u610F\u5473\u7740\u65B0\u8282\u70B9\u662F\u65B0\u589E\u7684\uFF0C\u65E7\u8282\u70B9\u4E2D\u4E0D\u5B58\u5728\uFF0C\u8DF3\u8FC7\u6BD4\u8F83\uFF0C\u505A\u65B0\u589E\u64CD\u4F5C\r\n    if (cur !== 0) {\r\n      let resLastIndex = result[result.length - 1];\r\n      if (cur > arr[resLastIndex]) {\r\n        prevIndexArr[i] = result[result.length - 1];\r\n        result.push(i);\r\n        continue;\r\n      }\r\n    }\r\n    start = 0;\r\n    end = result.length - 1;\r\n    while (start < end) {\r\n      middle = ((start + end) / 2) | 0;\r\n      if (cur > arr[result[middle]]) {\r\n        start = middle + 1;\r\n      } else {\r\n        end = middle;\r\n      }\r\n      if (cur < arr[result[start]]) {\r\n        prevIndexArr[i] = result[start - 1];\r\n        // \u66FF\u6362\u4E4B\u524D\u7684\u7D22\u5F15\r\n        result[start] = i;\r\n      }\r\n    }\r\n  }\r\n  let resultLen = result.length;\r\n  let lastResult = result[resultLen - 1];\r\n  while (resultLen-- > 0) {\r\n    result[resultLen] = lastResult;\r\n    lastResult = prevIndexArr[lastResult];\r\n  }\r\n  return result;\r\n}\r\n", "const queue = [];\r\nlet promiseResolve = Promise.resolve();\r\nlet isFlashing = false;\r\n\r\nexport function queueJob(job) {\r\n  if (!queue.includes(job)) {\r\n    queue.push(job);\r\n  }\r\n\r\n  if (!isFlashing) {\r\n    isFlashing = true;\r\n\r\n    promiseResolve.then(() => {\r\n      isFlashing = false;\r\n      const newQueue = queue.slice();\r\n      queue.length = 0;\r\n      for (let i = 0; i < newQueue.length; i++) {\r\n        newQueue[i]();\r\n        newQueue.length = 0;\r\n      }\r\n    });\r\n  }\r\n}\r\n", "import { proxyRefs, reactive } from \"@mw/reactivity\";\r\nimport { hasOwn, isFunction, ShapeFlags } from \"@mw/shared\";\r\n\r\nexport let currentInstance = null;\r\n\r\nexport function createComponentInstance(vnode, parent) {\r\n  let { props: propsOptions = {} } = vnode?.type;\r\n\r\n  const instance = {\r\n    data: null,\r\n    vnode,\r\n    subTree: null, // \u7EC4\u4EF6\u7684\u5B50\u6811\u865A\u62DF\u8282\u70B9\r\n    update: null,\r\n    props: {}, // \u7EC4\u4EF6props = propsOptions\u5728 vnodeProps\u627E\u7684\u503C\r\n    propsOptions, // \u4F20\u5165\u7684props\r\n    attrs: {}, // \u5176\u4ED6\u5C5E\u6027 = vnodeProps\u627E\u7684\u503C - propsOptions\r\n    component: null,\r\n    setupState: {},\r\n    isMounted: false,\r\n    proxy: null, // \u4EE3\u7406\u5BF9\u8C61 props.name = proxy.name\r\n    exposed: null,\r\n    parent, // \u7236\u7EC4\u4EF6\r\n    provides: parent ? parent.provides : Object.create(null),\r\n    ctx: {} as any, // KeepAlive\u7EC4\u4EF6\u5B58\u50A8dom\u7684\u7F13\u5B58\u96C6\u5408\r\n  };\r\n\r\n  return instance;\r\n}\r\n\r\nexport function setupComponent(instance) {\r\n  const { vnode } = instance;\r\n  // const vnodeProps = vnode.props;\r\n  initProps(instance, vnode.props);\r\n  initSlots(instance, vnode.children);\r\n  // \u6620\u5C04\u5C5E\u6027\u5230proxy\u4E0A\r\n  instance.proxy = new Proxy(instance, setHandlers);\r\n  const { data = () => {}, render, setup } = vnode.type;\r\n\r\n  // setup\u5165\u53E3\u53D6\u503C\r\n  const context = {\r\n    attrs: instance.attrs,\r\n    slots: instance.slots,\r\n    emit: (event, ...args) => initEmit(instance, event, ...args),\r\n    expose: (v) => (instance.exposed = v),\r\n  };\r\n\r\n  if (setup) {\r\n    setCurrentInstance(instance);\r\n    const setupCall = setup(instance.props, context);\r\n    unsetCurrentInstance();\r\n\r\n    if (isFunction(setupCall)) {\r\n      instance.render = setupCall;\r\n    } else {\r\n      instance.setupState = proxyRefs(setupCall);\r\n    }\r\n  }\r\n\r\n  if (!isFunction(data)) {\r\n    console.warn(\"data must be a function\");\r\n  } else {\r\n    instance.data = reactive(data.call(instance.proxy));\r\n  }\r\n\r\n  // \u4F18\u5148\u4F7F\u7528setup\u4E2D\u7684 render\r\n  if (!instance.render) {\r\n    instance.render = render;\r\n  }\r\n}\r\n\r\nconst publicPrototype = {\r\n  $attrs: (instance) => instance.attrs,\r\n  $slots: (instance) => instance.slots,\r\n  // $emit: (instance) => instance.emit,\r\n  // $expose: (instance) => instance.expose,\r\n  // $setup: (instance) => instance.setupState,\r\n  // $data: (instance) => instance.data,\r\n  // $props: (instance) => instance.props,\r\n  // $options: (instance) => instance.vnode.type,\r\n};\r\nconst setHandlers = {\r\n  get(target, key) {\r\n    const { data, props, setupState, slots } = target;\r\n    if (data && hasOwn(data, key)) {\r\n      return data[key];\r\n    } else if (props && hasOwn(props, key)) {\r\n      return props[key];\r\n    } else if (setupState && hasOwn(setupState, key)) {\r\n      return setupState[key];\r\n    }\r\n    const publicGetter = publicPrototype[key]; // \u4E3A$attrs/$slots\u7B49\u5411\u5916\u66B4\u6F0F\u7684\u5C5E\u6027\u6DFB\u52A0\u7B56\u7565\r\n    if (publicGetter) {\r\n      return publicGetter(target);\r\n    }\r\n  },\r\n  set(target, key, value) {\r\n    const { data, props, setupState, slots } = target;\r\n    if (data && hasOwn(data, key)) {\r\n      data[key] = value;\r\n    } else if (props && hasOwn(props, key)) {\r\n      console.warn(`props is readonly,do not assign to it directly.`);\r\n    } else if (setupState && hasOwn(setupState, key)) {\r\n      setupState[key] = value;\r\n    }\r\n\r\n    return true;\r\n  },\r\n};\r\n\r\n/**\r\n *\r\n * @param {} instance \u7EC4\u4EF6\u5B9E\u4F8B\r\n * @param {} vnodeProps \u603B\u7684\u5C5E\u6027\r\n */\r\nconst initProps = (instance, vnodeProps) => {\r\n  let props = {};\r\n  let attrs = {};\r\n  let propsOptions = instance.propsOptions;\r\n\r\n  if (vnodeProps) {\r\n    for (let key in vnodeProps) {\r\n      const value = vnodeProps[key];\r\n      // \u5206\u88C2props\u548Cattrs\r\n      if (key in propsOptions) {\r\n        props[key] = value;\r\n      } else {\r\n        attrs[key] = value;\r\n      }\r\n    }\r\n  }\r\n  instance.attrs = attrs;\r\n  instance.props = reactive(props);\r\n};\r\n\r\nconst initSlots = (instance, children) => {\r\n  const { vnode } = instance;\r\n  if (vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\r\n    instance.slots = children;\r\n  } else {\r\n    instance.slots = {};\r\n  }\r\n};\r\n\r\nconst initEmit = (instance, event, ...args) => {\r\n  const eventName = event[0].toUpperCase() + event.slice(1);\r\n  const onEvent = `on${eventName}`;\r\n  const fn = instance.vnode.props?.[onEvent];\r\n  fn && fn(...args);\r\n};\r\n\r\nexport const getCurrentInstance = () => currentInstance;\r\n\r\nexport const setCurrentInstance = (instance) => {\r\n  currentInstance = instance;\r\n};\r\nexport const unsetCurrentInstance = () => {\r\n  currentInstance = null;\r\n};\r\n", "import { ShapeFlags } from \"@mw/shared\";\r\n\r\nexport const Teleport = {\r\n  __isTeleport: true,\r\n  process(n1, n2, container, anchor, parentComponent, internals) {\r\n    let { mountChildren, patchChildren, moveTo } = internals;\r\n    if (!n1) {\r\n      const target = (n2.target = document.querySelector(n2.props.to));\r\n      if (target) {\r\n        mountChildren(n2.children, target, anchor, parentComponent);\r\n      }\r\n    } else {\r\n      patchChildren(n1, n2, n2.target, parentComponent);\r\n      if (n2.props.to !== n1.props.to) {\r\n        const newTarget = document.querySelector(n2.props.to);\r\n\r\n        n2.children.forEach((child) => {\r\n          moveTo(child, newTarget, anchor);\r\n        });\r\n      }\r\n    }\r\n  },\r\n  remove(vnode, unMountChildren) {\r\n    const { children, shapeFlag } = vnode;\r\n    if (shapeFlag & ShapeFlags.TELEPORT) {\r\n      unMountChildren(children);\r\n    }\r\n  },\r\n};\r\n\r\nexport const isTeleport = (v) => v.__isTeleport;\r\n", "import {\r\n  isArray,\r\n  isFunction,\r\n  isObject,\r\n  isString,\r\n  ShapeFlags,\r\n} from \"@mw/shared\";\r\nimport { isTeleport } from \"./functionalComponent/Teleport\";\r\n\r\n/**\r\n * \u521B\u5EFA\u865A\u62DFdom\r\n * @param {} type \u7EC4\u4EF6\u7C7B\u578B\r\n * @param {} props \u7EC4\u4EF6\u5C5E\u6027\r\n * @param {} children \u7EC4\u4EF6\u5B50\u8282\u70B9\r\n * @param {} patchFlag \u6BD4\u8F83\u52A8\u6001\u8282\u70B9\r\n * @returns\r\n */\r\nexport function createVnode(type, props, children?, patchFlag?) {\r\n  const shapeFlag = isString(type)\r\n    ? ShapeFlags.ELEMENT\r\n    : isTeleport(type)\r\n    ? ShapeFlags.TELEPORT\r\n    : isObject(type)\r\n    ? ShapeFlags.STATEFUL_COMPONENT\r\n    : isFunction(type)\r\n    ? ShapeFlags.FUNCTIONAL_COMPONENT\r\n    : 0;\r\n  const vnode = {\r\n    __v_isVnode: true,\r\n    el: null,\r\n    key: props?.key,\r\n    type,\r\n    props, // \u4F20\u5165\u7684props\r\n    children,\r\n    shapeFlag,\r\n    patchFlag,\r\n  };\r\n\r\n  if (currentBlock && patchFlag) {\r\n    currentBlock.push(vnode);\r\n  }\r\n\r\n  // \u4E3Avnode\u6DFB\u52A0shapeFlag\r\n  if (children) {\r\n    if (isArray(children)) {\r\n      vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\r\n    } else if (isObject(children)) {\r\n      // \u7EC4\u4EF6\u7684children\u662Fslot\uFF0C\u4E14 h\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5FC5\u987B\u8981\u4F20\r\n      vnode.shapeFlag |= ShapeFlags.SLOTS_CHILDREN;\r\n    } else {\r\n      children = String(children);\r\n      vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN;\r\n    }\r\n  }\r\n\r\n  return vnode;\r\n}\r\n\r\nlet currentBlock = null;\r\n\r\nexport function toDisplayString(v) {\r\n  return isString(v)\r\n    ? v\r\n    : v === null\r\n    ? \"\"\r\n    : isObject(v)\r\n    ? JSON.stringify(v)\r\n    : String(v);\r\n}\r\nexport function openBlock() {\r\n  currentBlock = [];\r\n}\r\n\r\nexport function _openBlock() {\r\n  currentBlock = [];\r\n}\r\n\r\nexport function closeBlock() {\r\n  currentBlock = null;\r\n}\r\n\r\nexport function setupBlock(vnode) {\r\n  vnode.dynamicChildren = currentBlock;\r\n  closeBlock();\r\n  return vnode;\r\n}\r\n\r\nexport function createElementBlock(type, props, children, patchFlag?) {\r\n  return setupBlock(createVnode(type, props, children, patchFlag));\r\n}\r\n\r\nexport function _createElementBlock(type, props, children, patchFlag?) {\r\n  return setupBlock(createVnode(type, props, children, patchFlag));\r\n}\r\nexport { createVnode as createElementVNode };\r\n", "import {\r\n  currentInstance,\r\n  setCurrentInstance,\r\n  unsetCurrentInstance,\r\n} from \"./component\";\r\n\r\nexport const enum Lifecycles {\r\n  BEFORE_MOUNT = \"bm\",\r\n  MOUNTED = \"m\",\r\n  BEFORE_UPDATE = \"bu\",\r\n  UPDATED = \"u\",\r\n  BEFORE_UNMOUNT = \"bum\",\r\n  UNMOUNTED = \"um\",\r\n}\r\n\r\nconst createHooks = (lifecycle) => {\r\n  return (hook, target = currentInstance) => {\r\n    if (target) {\r\n      const hooks = target[lifecycle] || (target[lifecycle] = []);\r\n\r\n      // setup\u6267\u884C\u5B8C\u540E\u7EC4\u4EF6\u7684instance\u4F1A\u91CD\u7F6E\u4E3Anull\uFF0C\u5BFC\u81F4 hooks\u6267\u884C\u65F6instance\u4E3Anull\r\n      // \u5728hook\u6267\u884C\u65F6\u5019\u4FDD\u5B58\u4E00\u4EFDinstance\uFF0Chook\u8C03\u7528\u5B8C\u6210\u91CD\u7F6E\u4E3Anull\r\n      const cacheInstanceForHook = () => {\r\n        setCurrentInstance(target);\r\n        hook();\r\n        unsetCurrentInstance();\r\n      };\r\n      hooks.push(cacheInstanceForHook);\r\n    }\r\n  };\r\n};\r\nexport const invokerhooks = (hooks) => {\r\n  hooks?.forEach((hook) => hook());\r\n};\r\nexport const onBeforeMount = createHooks(Lifecycles.BEFORE_MOUNT);\r\nexport const onMounted = createHooks(Lifecycles.MOUNTED);\r\nexport const onBeforeUpdate = createHooks(Lifecycles.BEFORE_UPDATE);\r\nexport const onUpdated = createHooks(Lifecycles.UPDATED);\r\nexport const onBeforeUnmount = createHooks(Lifecycles.BEFORE_UNMOUNT);\r\nexport const onUnmounted = createHooks(Lifecycles.UNMOUNTED);\r\n", "import { ShapeFlags } from \"@mw/shared\";\r\nimport { getCurrentInstance } from \"../component\";\r\nimport { onMounted, onUpdated } from \"../Lifecycle\";\r\n\r\nexport const KeepAlive = {\r\n  props: {\r\n    max: {\r\n      type: Number,\r\n      default: 5,\r\n    },\r\n  },\r\n  __isKeepAlive: true,\r\n  setup(props, { slots }) {\r\n    const { max } = props;\r\n    const keys = new Set();\r\n    const cacheKeepAlive = new Map();\r\n    const instance = getCurrentInstance();\r\n    let pendingCacheKey = null; // \u5F53\u524D\u7EC4\u4EF6\u7684key\uFF0C\u5728onMounted\u4E2D\u4F7F\u7528\r\n\r\n    const { createElement, moveTo, unMount } = instance?.ctx?.renderer;\r\n    const cacheSubTree = () => {\r\n      cacheKeepAlive.set(pendingCacheKey, instance.subTree);\r\n    };\r\n\r\n    function handleReset(vnode) {\r\n      let shapeFlag = vnode.shapeFlag;\r\n      if (shapeFlag & ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE) {\r\n        shapeFlag -= ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE;\r\n      }\r\n      if (shapeFlag & ShapeFlags.COMPONENT_KEPT_ALIVE) {\r\n        shapeFlag -= ShapeFlags.COMPONENT_KEPT_ALIVE;\r\n      }\r\n      vnode.shapeFlag = shapeFlag;\r\n      // vnode.component = null;\r\n    }\r\n    function handleUnMount(vnode) {\r\n      handleReset(vnode);\r\n      unMount(vnode);\r\n    }\r\n    function purnedCacheEntry(key) {\r\n      const maxKeyCache = cacheKeepAlive.get(key);\r\n      if (maxKeyCache) {\r\n        handleUnMount(maxKeyCache);\r\n        cacheKeepAlive.delete(key);\r\n        keys.delete(key);\r\n      }\r\n    }\r\n\r\n    // \u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\uFF0C\u5B58\u50A8keepAlive\u7684\u5B50\u6811\uFF0C\u5E76\u4E0D\u662F\u771F\u7684\u5378\u8F7D\u7EC4\u4EF6\r\n    const storageContainer = createElement(\"div\");\r\n    // \u5F53keppAlive\u6FC0\u6D3B\u65F6\uFF0C\u8C03\u7528active\u65B9\u6CD5\r\n    instance.ctx.active = (el, container, anchor) => {\r\n      moveTo(el, container, anchor);\r\n    };\r\n    // \u5F53keppAlive\u5378\u8F7D\u65F6\uFF0C\u8C03\u7528deactive\u65B9\u6CD5\r\n    instance.ctx.deactive = (el) => {\r\n      moveTo(el, storageContainer, null);\r\n    };\r\n\r\n    onMounted(cacheSubTree);\r\n    onUpdated(cacheSubTree);\r\n\r\n    return (proxy) => {\r\n      const vnode = slots.default();\r\n      const comp = vnode.type;\r\n      const key = vnode.key == null ? comp : vnode.key;\r\n      const cacheVnode = cacheKeepAlive.get(key);\r\n      pendingCacheKey = key;\r\n\r\n      if (cacheVnode) {\r\n        vnode.component = cacheVnode.component;\r\n        // \u4E3A\u5F53\u524Dvnode\u6DFB\u52A0\u6807\u8BB0\uFF0C\u4E0D\u5728\u6E32\u67D3\u9636\u6BB5\u6E32\u67D3\u7F13\u5B58\u7684vnode\r\n        vnode.shapeFlag |= ShapeFlags.COMPONENT_KEPT_ALIVE;\r\n        // \u5237\u65B0 \u7F13\u5B58LRU\u7B56\u7565\r\n        keys.delete(key);\r\n        keys.add(key);\r\n      } else {\r\n        keys.add(key);\r\n        if (max && keys.size > max) {\r\n          let maxKey = keys.keys().next().value;\r\n          purnedCacheEntry(maxKey);\r\n        }\r\n      }\r\n\r\n      // \u6DFB\u52A0\u4E0D\u7528\u5378\u8F7Ddom\u6807\u8BB0\r\n      vnode.shapeFlag |= ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE;\r\n      return vnode;\r\n    };\r\n  },\r\n};\r\nexport const isKeepAlive = (v) => v.type.__isKeepAlive;\r\n", "import { createVnode } from \"./createVnode\";\r\n\r\n/**\r\n * \u521B\u5EFAapp\u5B9E\u4F8B\r\n */\r\n\r\nexport function createAppAPI(render) {\r\n  return function createApp(rootComponent, rootProps = null) {\r\n    const app = {\r\n      _component: rootComponent,\r\n      _props: rootProps,\r\n      _container: null,\r\n      mount(container) {\r\n        // \u521B\u5EFA\u865A\u62DF\u8282\u70B9\r\n        const vnode = createVnode(rootComponent, rootProps);\r\n        // \u6E32\u67D3\u865A\u62DF\u8282\u70B9\r\n        render(vnode, container);\r\n        // \u4FDD\u5B58\u5BB9\u5668\r\n        app._container = container;\r\n      },\r\n    };\r\n\r\n    return app;\r\n  };\r\n}\r\n", "import {\r\n  isArray,\r\n  isNumber,\r\n  isSameVnode,\r\n  isString,\r\n  PatchFlags,\r\n  ShapeFlags,\r\n} from \"@mw/shared\";\r\nimport longIncSequeue from \"./longIncSequeue\";\r\nimport { ReactiveEffect } from \"@mw/reactivity\";\r\nimport { queueJob } from \"./queueJob\";\r\nimport { createComponentInstance, setupComponent } from \"./component\";\r\nimport { createVnode } from \"./createVnode\";\r\nimport { invokerhooks } from \"./Lifecycle\";\r\nimport { isKeepAlive } from \"./functionalComponent/KeepAlive\";\r\nimport { createAppAPI } from \"./apiCreateApp\";\r\n\r\n// \u5B9A\u4E49\u5143\u7D20\u7C7B\u578B\r\nexport const Text = Symbol(\"Text\");\r\nexport const Fragment = Symbol(\"Fragment\");\r\nconst dealWithChildrenIsString = (children) => {\r\n  for (let i = 0; i < children.length; i++) {\r\n    if (isString(children[i]) || isNumber(children[i])) {\r\n      children[i] = createVnode(Text, null, String(children[i]));\r\n    }\r\n  }\r\n  return children;\r\n};\r\n\r\n// \u521B\u5EFA\u6E32\u67D3\u5668render\uFF0Crender\u8C03\u7528patch\u5DEE\u5F02\u5316diff\uFF0C\u8C03\u7528dom api\u8DDF\u65B0\u5143\u7D20\r\nexport function createRenderer(rendererOptions) {\r\n  const {\r\n    createElement: hostCreateElement,\r\n    setElementText: hostSetElementText,\r\n    insert: hostInsert,\r\n    remove: hostRemove,\r\n    createText: hostCreateText,\r\n    setText: hostSetText,\r\n    parentNode: hostParentNode,\r\n    nextSbiling: hostnNxtSbiling,\r\n    patchProps: hostPatchProps,\r\n  } = rendererOptions;\r\n\r\n  const mountChildren = (children, container, anchor, parentComponent) => {\r\n    dealWithChildrenIsString(children);\r\n    for (let i = 0; i < children.length; i++) {\r\n      patch(null, children[i], container, anchor, parentComponent);\r\n    }\r\n  };\r\n\r\n  const unMount = (vnode, parentComponent) => {\r\n    const { type, shapeFlag, component, transition, el } = vnode;\r\n    const handleRemove = () => {\r\n      hostRemove(vnode.el);\r\n    };\r\n    if (vnode.shapeFlag & ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE) {\r\n      parentComponent.ctx.deactive(vnode);\r\n    } else if (type === Fragment) {\r\n      unMountChildren(vnode.children, parentComponent);\r\n    } else if (shapeFlag & ShapeFlags.COMPONENT) {\r\n      unMount(component.subTree, parentComponent);\r\n    } else if (shapeFlag & ShapeFlags.TELEPORT) {\r\n      vnode.type.remove(vnode, unMountChildren);\r\n    } else {\r\n      // Transition \u7EC4\u4EF6\u79FB\u9664\r\n      if (transition) {\r\n        transition.leave(el, handleRemove);\r\n      } else {\r\n        handleRemove();\r\n      }\r\n    }\r\n  };\r\n\r\n  const unMountChildren = (children, parentComponent) => {\r\n    for (let i = 0; i < children.length; i++) {\r\n      const child = children[i];\r\n      unMount(child, parentComponent);\r\n    }\r\n  };\r\n  const mountElement = (vnode, container, anchor, parentComponent) => {\r\n    const { type, props, children, shapeFlag, transition } = vnode;\r\n    // \u521B\u5EFAdom\u5143\u7D20\r\n    const el = (vnode.el = hostCreateElement(type));\r\n\r\n    if (props) {\r\n      for (const key in props) {\r\n        const val = props[key];\r\n        hostPatchProps(el, key, null, val);\r\n      }\r\n    }\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      hostSetElementText(el, children);\r\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n      mountChildren(children, el, anchor, parentComponent);\r\n    }\r\n\r\n    if (transition) {\r\n      transition.beforeEnter(el);\r\n    }\r\n    // el\u63D2\u5165\u5230 container\r\n    hostInsert(el, container, anchor);\r\n    if (transition) {\r\n      transition.enter(el);\r\n    }\r\n  };\r\n\r\n  function renderComponent(instance) {\r\n    const { render, vnode, proxy, attrs, slots } = instance;\r\n    if (vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\r\n      return render.call(proxy, proxy);\r\n    } else {\r\n      return vnode.type(attrs, { slots });\r\n    }\r\n  }\r\n  // \u521B\u5EFAeffect\u66F4\u65B0 dom\r\n  const setupRenderComponentEffect = (instance, container, anchor) => {\r\n    const { render } = instance;\r\n    const componentUpdateFn = () => {\r\n      const { bm, m } = instance;\r\n      if (!instance.isMounted) {\r\n        // onBeforeMount\r\n        if (bm) {\r\n          invokerhooks(bm);\r\n        }\r\n        // \u7EC4\u4EF6\u7684\u865A\u62DF\u8282\u70B9\r\n        const subTree = renderComponent(instance);\r\n\r\n        patch(null, subTree, container, anchor);\r\n        instance.subTree = subTree;\r\n        instance.isMounted = true;\r\n        // onMounted\r\n        if (m) {\r\n          invokerhooks(m);\r\n        }\r\n      } else {\r\n        const { next, bu, u } = instance;\r\n        if (next) {\r\n          // \u66F4\u65B0\u7EC4\u4EF6\u7684\u72B6\u6001\u5C5E\u6027\r\n          updateComponentPreRender(instance, next);\r\n        }\r\n\r\n        //  onBeforeUpdate\r\n        if (bu) {\r\n          invokerhooks(bu);\r\n        }\r\n\r\n        const newSubTree = renderComponent(instance);\r\n        // \u66F4\u65B0\u7EC4\u4EF6\u72B6\u6001\uFF0C\u6DFB\u52A0\u7EC4\u4EF6\u5B9E\u4F8Binstance\r\n        patch(instance.subTree, newSubTree, container, anchor, instance);\r\n        instance.subTree = newSubTree;\r\n        // onUpdated\r\n        if (u) {\r\n          invokerhooks(u);\r\n        }\r\n      }\r\n    };\r\n    const _effect = new ReactiveEffect(componentUpdateFn, () =>\r\n      queueJob(update)\r\n    );\r\n    const update = () => {\r\n      _effect.run();\r\n    };\r\n    instance.update = update;\r\n    update();\r\n  };\r\n\r\n  const mountComponent = (n2, container, anchor, parentComponent) => {\r\n    // \u521B\u5EFA\u5B9E\u4F8B\r\n    const instance = (n2.component = createComponentInstance(\r\n      n2,\r\n      parentComponent\r\n    ));\r\n\r\n    // \u7EC4\u4EF6\u65F6KeepAlive\uFF0C\u4E3Actx\u6DFB\u52A0\u5C5E\u6027\r\n    if (isKeepAlive(n2)) {\r\n      instance.ctx.renderer = {\r\n        createElement: hostCreateElement,\r\n        setElementText: hostSetElementText,\r\n        moveTo(vnode, container, anchor) {\r\n          hostInsert(vnode.component.subTree.el, container);\r\n        },\r\n        unMount,\r\n      };\r\n    }\r\n\r\n    // \u8BBE\u7F6E\u5B9E\u4F8B\u5BF9\u8C61\r\n    setupComponent(instance);\r\n\r\n    // \u521B\u5EFAeffect\u66F4\u65B0 dom\r\n    setupRenderComponentEffect(instance, container, anchor);\r\n  };\r\n\r\n  const isChangeProps = (preProps, nextProps) => {\r\n    const nextKeys = Object.keys(nextProps);\r\n    const preLen = Object.keys(preProps)?.length;\r\n    const nextLen = nextKeys?.length;\r\n\r\n    if (nextLen !== preLen) {\r\n      return true;\r\n    }\r\n    for (let i = 0; i < nextLen; i++) {\r\n      const key = nextKeys[i];\r\n      if (nextProps[key] !== preProps[key]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // \u66F4\u65B0\u7EC4\u4EF6\u7684props\r\n  const updateComponentProps = (instance, preProps, nextProps) => {\r\n    for (const key in nextProps) {\r\n      const prevProp = preProps?.[key];\r\n      const nextProp = nextProps[key];\r\n      if (prevProp !== nextProp) {\r\n        instance.props[key] = nextProp;\r\n      }\r\n    }\r\n    for (const key in preProps) {\r\n      if (!(key in nextProps)) {\r\n        delete instance.props[key];\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateComponentPreRender = (instance, next) => {\r\n    instance.next = null;\r\n    instance.vnode = next;\r\n    updateComponentProps(instance, instance.props, (next.props = {}));\r\n    // \u66F4\u65B0\u63D2\u69FD\r\n    Object.assign(instance.slots, next.children);\r\n  };\r\n\r\n  // \u7EC4\u4EF6\u662F\u5426\u8981\u66F4\u65B0\r\n  const shouldComponentUpdate = (n1, n2) => {\r\n    const { props: preProps, children: preChildren } = n1;\r\n    const { props: nextProps, children: nextChildren } = n2;\r\n\r\n    // \u66F4\u65B0\u63D2\u69FD\r\n    if (preChildren || nextChildren) {\r\n      return true;\r\n    }\r\n    if (preProps === nextProps) {\r\n      return false;\r\n    }\r\n    // \u66F4\u65B0props\r\n    return isChangeProps(preProps, nextProps || {});\r\n  };\r\n  const updateComponent = (n1, n2, container) => {\r\n    const instance = (n2.component = n1.component);\r\n    // props\u6709\u53D8\u5316\u66F4\u65B0instance.props\r\n    if (shouldComponentUpdate(n1, n2)) {\r\n      // \u540C\u6B65\u65B0\u7EC4\u4EF6\u7684vnode\uFF0C\u66F4\u65B0\u72B6\u6001\u65F6\u5019\uFF0C\u81EA\u52A8\u66F4\u65B0dom\r\n      instance.next = n2;\r\n\r\n      instance.update();\r\n    }\r\n  };\r\n\r\n  // \u66F4\u65B0\u5C5E\u6027 {style class event attribute}\r\n  const patchProps = (oldProps, newProps, el) => {\r\n    // \u8FFD\u52A0\u8986\u76D6\r\n    for (const key in newProps) {\r\n      const prevProp = oldProps[key];\r\n      const nextProp = newProps[key];\r\n      if (prevProp !== nextProp) {\r\n        hostPatchProps(el, key, prevProp, nextProp);\r\n      }\r\n    }\r\n    // \u5220\u9664\u65E7\u7684\r\n    for (const key in oldProps) {\r\n      if (!(key in newProps)) {\r\n        hostPatchProps(el, key, oldProps[key], null);\r\n      }\r\n    }\r\n  };\r\n\r\n  // diff\r\n  const patchKeyedChildren = (c1, c2, el, parentComponent) => {\r\n    let i = 0; // \u8BB0\u5F55\u6BCF\u6B21\u540C\u6B65\u7684\u4F4D\u7F6E\r\n    const l1 = c1.length;\r\n    const l2 = c2.length;\r\n    let e1 = l1 - 1; // \u65E7\u8282\u70B9\u5C3E\u90E8\r\n    let e2 = l2 - 1; // \u65B0\u8282\u70B9\u5C3E\u90E8\r\n    // 1. \u4ECE\u5934\u540C\u6B65\r\n\r\n    while (i <= e1 && i <= e2) {\r\n      const n1 = c1[i];\r\n      const n2 = c2[i];\r\n\r\n      if (isSameVnode(n1, n2)) {\r\n        patch(n1, n2, el); // \u9012\u5F52\u66F4\u65B0\u590D\u7528\u8282\u70B9\r\n      } else {\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n    // 2. \u4ECE\u5C3E\u90E8\u540C\u6B65\r\n    while (i <= e1 && i <= e2) {\r\n      const n1 = c1[e1];\r\n      const n2 = c2[e2];\r\n      if (isSameVnode(n1, n2)) {\r\n        patch(n1, n2, el);\r\n      } else {\r\n        break;\r\n      }\r\n      e1--;\r\n      e2--;\r\n    }\r\n    // 3. \u589E\u5220\u6539\u4E2D\u95F4\u8282\u70B9\r\n\r\n    if (i > e1) {\r\n      // \u65B0\u8282\u70B9\u6DFB\u52A0\r\n      if (i <= e2) {\r\n        const nextPos = e2 + 1;\r\n        // \u4E0B\u4E00\u4E2A\u8282\u70B9\uFF08\u53C2\u7167\u7269\uFF09\uFF0C\u6709\u5411\u540E\u63D2\u5165\uFF0C\u6CA1\u6709\u5934\u90E8\u63D2\u5165\r\n        const anchor = nextPos < l2 ? c2[nextPos].el : null;\r\n        while (i <= e2) {\r\n          patch(null, c2[i], el, anchor);\r\n          i++;\r\n        }\r\n      }\r\n    } else if (i > e2) {\r\n      // \u65E7\u8282\u70B9\u591A \u5220\u9664\r\n      if (i <= e1) {\r\n        while (i <= e1) {\r\n          unMount(c1[i].el, parentComponent);\r\n          i++;\r\n        }\r\n      }\r\n    } else {\r\n      // 4. \u4E2D\u95F4\u4F4D\u7F6E\r\n      const keyToNewIndexMap = new Map();\r\n      let s1 = i;\r\n      let s2 = i;\r\n      // \u5012\u5E8F\u63D2\u5165\r\n      let toBePatched = e2 - s2 + 1;\r\n      let newIndexToOldIndexMap = new Array(toBePatched).fill(0);\r\n\r\n      for (let i = s2; i <= e2; i++) {\r\n        const currentVnode = c2[i];\r\n        keyToNewIndexMap.set(currentVnode.key, i);\r\n      }\r\n\r\n      for (let i = s1; i <= e1; i++) {\r\n        // \u65E7\u8282\u70B9\u662F\u5426\u5B58\u5728,\u4E0D\u5B58\u5728\u5220\u9664\r\n        const oldPos = c1[i];\r\n        const nextPosIndex = keyToNewIndexMap.get(oldPos.key);\r\n\r\n        if (nextPosIndex == undefined) {\r\n          unMount(oldPos, parentComponent);\r\n        } else {\r\n          // \u65B0\u65E7\u66F4\u65B0\u8282\u70B9\u6620\u5C04\u5173\u8054 newIndex -> oldIndex\r\n          newIndexToOldIndexMap[nextPosIndex - s2] = i;\r\n          // \u590D\u7528\u65E7\u8282\u70B9\r\n          patch(oldPos, c2[nextPosIndex], el);\r\n        }\r\n      }\r\n\r\n      let longIncSeq = longIncSequeue(newIndexToOldIndexMap);\r\n\r\n      let lastLongIncSeqIndex = longIncSeq.length - 1;\r\n      for (let i = toBePatched - 1; i >= 0; i--) {\r\n        const newPosIndex = s2 + i;\r\n        const anchor = c2[newPosIndex + 1]?.el;\r\n        const newVnode = c2[newPosIndex];\r\n        if (!newVnode?.el) {\r\n          // \u65B0\u589E\r\n          patch(null, newVnode, el, anchor);\r\n        } else {\r\n          if (i === longIncSeq[lastLongIncSeqIndex]) {\r\n            lastLongIncSeqIndex--;\r\n          } else {\r\n            hostInsert(newVnode.el, el, anchor);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * \u7C7B\u578B\u76F8\u540C\uFF0C\u66F4\u65B0 children\r\n   * @param {} n1 \u65E7\u8282\u70B9\r\n   * @param {} n2 \u65B0\u8282\u70B9\r\n   * @param {} el\r\n   * 1. \u65E7\u6587\u672C\uFF0C\u65B0\u6570\u7EC4\r\n   * 2. \u65E7\u6587\u672C\uFF0C\u65B0\u6587\u672C\uFF0C\u66FF\u6362\r\n   * 3. \u65E7\u6587\u672C\uFF0C\u65B0null \uFF0C\u5220\u9664\u65E7\u7684\r\n   * 4. \u65E7\u6570\u7EC4\uFF0C\u65B0\u4E0D\u662F\u6570\u7EC4\uFF0C\u5220\u9664\u65E7\u7684\r\n   * 5. \u65E7\u6570\u7EC4\uFF0C\u65B0\u672C\u6587\uFF0C\u5220\u9664\u65E7\u7684\r\n   * 6. \u65E7\u6570\u7EC4\uFF0C\u65B0\u6570\u7EC4\uFF0Cdiff\r\n   *\r\n   */\r\n  const patchChildren = (n1, n2, el, anchor, parentComponent) => {\r\n    const c1 = n1.children;\r\n    // \u517C\u5BB9\u4E00\u4E0B\u4F20\u5165\u5B57\u7B26\u4E32\u95EE\u9898\r\n    const c2 = isArray(n2.children)\r\n      ? dealWithChildrenIsString(n2.children)\r\n      : n2.children;\r\n    const prevShapeFlag = n1.shapeFlag;\r\n    const shapeFlag = n2.shapeFlag;\r\n\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        unMountChildren(c1, parentComponent);\r\n      }\r\n      // \u8BBE\u7F6E\u65B0\u6587\u672C\r\n      if (c1 !== c2) {\r\n        hostSetElementText(el, c2);\r\n      }\r\n    } else {\r\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          // \u90FD\u662F\u6570\u7EC4\r\n          patchKeyedChildren(c1, c2, el, parentComponent);\r\n        } else {\r\n          unMountChildren(c1, parentComponent);\r\n        }\r\n      } else {\r\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n          hostSetElementText(el, \"\");\r\n        }\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          mountChildren(c2, el, anchor, parentComponent);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const patchBlockChildren = (n1, n2, el, anchor, parentComponent) => {\r\n    const { dynamicChildren } = n2;\r\n\r\n    for (let i = 0; i < dynamicChildren.length; i++) {\r\n      patch(\r\n        n1.dynamicChildren[i],\r\n        dynamicChildren[i],\r\n        el,\r\n        anchor,\r\n        parentComponent\r\n      );\r\n    }\r\n  };\r\n  // \u5DEE\u5F02\u5316\u66F4\u65B0 el\u590D\u7528\r\n  const patchElement = (n1, n2, container, anchor, parentComponent) => {\r\n    const el = (n2.el = n1.el);\r\n    const oldProps = n1.props || {};\r\n    const newProps = n2.props || {};\r\n    const { dynamicChildren, patchFlag } = n2;\r\n    // dynamic\r\n    if (patchFlag) {\r\n      if (patchFlag & PatchFlags.TEXT) {\r\n        if (n1.children !== n2.children) {\r\n          return hostSetElementText(el, n2.children);\r\n        }\r\n      }\r\n    } else {\r\n      patchProps(oldProps, newProps, el);\r\n    }\r\n\r\n    if (dynamicChildren) {\r\n      patchBlockChildren(n1, n2, el, anchor, parentComponent);\r\n    } else {\r\n      // full diff\r\n      patchChildren(n1, n2, el, anchor, parentComponent);\r\n    }\r\n  };\r\n\r\n  const processElement = (n1, n2, container, anchor, parentComponent) => {\r\n    // n1=null\u521D\u59CB\u5316 \u521B\u5EFA\u5143\u7D20\uFF0C\u5426\u5219\u5DEE\u5F02\u5316\u66F4\u65B0\r\n    if (n1 === null) {\r\n      mountElement(n2, container, anchor, parentComponent);\r\n    } else {\r\n      // \u7C7B\u578B\u76F8\u540C\u590D\u7528 \u5DEE\u5F02\u5316\u66F4\u65B0\r\n      patchElement(n1, n2, container, anchor, parentComponent);\r\n    }\r\n  };\r\n\r\n  const processText = (n1, n2, container) => {\r\n    if (n1 === null) {\r\n      // \u521B\u5EFA\u6587\u672C\r\n      hostInsert((n2.el = hostCreateText(n2.children)), container);\r\n    } else {\r\n      // \u66F4\u65B0\u6587\u672C\r\n      const el = (n2.el = n1.el);\r\n      if (n1.children !== n2.children) {\r\n        hostSetText(el, n2.children);\r\n      }\r\n    }\r\n  };\r\n  const processFragment = (n1, n2, container, anchor, parentComponent) => {\r\n    if (n1 === null) {\r\n      // \u521B\u5EFA\r\n      mountChildren(n2.children, container, anchor, parentComponent);\r\n    } else {\r\n      // \u66F4\u65B0\r\n      patchChildren(n1, n2, container, anchor, parentComponent);\r\n    }\r\n  };\r\n  const processComponent = (n1, n2, container, anchor, parentComponent) => {\r\n    if (n1 === null) {\r\n      if (n2.shapeFlag & ShapeFlags.COMPONENT_KEPT_ALIVE) {\r\n        // keepAlive\u6E32\u67D3 \u903B\u8F91\r\n        parentComponent.ctx.active(n2, container, anchor);\r\n      } else {\r\n        mountComponent(n2, container, anchor, parentComponent);\r\n      }\r\n    } else {\r\n      updateComponent(n1, n2, container);\r\n    }\r\n  };\r\n\r\n  const patch = (n1, n2, container, anchor?, parentComponent?) => {\r\n    if (n1 === n2) {\r\n      return;\r\n    }\r\n    // \u5224\u65AD\u662F\u5426\u662F\u540C\u4E00\u4E2Avnode,\u662F\u5220\u9664n1\uFF0C\u521D\u59CB\u5316n2\r\n    if (n1 && !isSameVnode(n1, n2)) {\r\n      unMount(n1, parentComponent);\r\n      n1 = null; // \u5220\u9664n1\uFF0C\u8D70n2\u521D\u59CB\u5316\r\n    }\r\n    const { type, shapeFlag } = n2;\r\n    switch (type) {\r\n      case Text:\r\n        processText(n1, n2, container);\r\n        break;\r\n      case Fragment:\r\n        processFragment(n1, n2, container, anchor, parentComponent);\r\n        break;\r\n\r\n      default:\r\n        if (shapeFlag & ShapeFlags.ELEMENT) {\r\n          // \u66F4\u65B0\u5143\u7D20\r\n          processElement(n1, n2, container, anchor, parentComponent);\r\n        } else if (shapeFlag & ShapeFlags.TELEPORT) {\r\n          // Teleport\r\n          const renderFn = {\r\n            mountChildren,\r\n            patchChildren,\r\n            moveTo(vnode, container, anchor) {\r\n              const el = vnode.component\r\n                ? vnode.component.subTree.el\r\n                : vnode.el;\r\n              hostInsert(el, container, anchor);\r\n            },\r\n          };\r\n          type.process(n1, n2, container, anchor, parentComponent, renderFn);\r\n        } else if (shapeFlag & ShapeFlags.COMPONENT) {\r\n          processComponent(n1, n2, container, anchor, parentComponent);\r\n        }\r\n    }\r\n  };\r\n\r\n  // \u8C03\u7528runtime-dom\u4E2D\u521B\u5EFAdom API ,\u521B\u5EFA\u5143\u7D20\u6E32\u67D3\u5230 container\r\n  const render = (vnode, container) => {\r\n    // vnode=null,\u79FB\u9664\u5F53\u524Dvnode\uFF0C\u5220\u9664\u5F53\u524Del\r\n    if (vnode === null) {\r\n      unMount(container._vnode, null);\r\n    } else {\r\n      patch(container._vnode || null, vnode, container);\r\n      // \u4FDD\u5B58\u4E0A\u4E00\u6B21\u7684vnode\r\n      container._vnode = vnode;\r\n    }\r\n  };\r\n\r\n  return { render, createApp: createAppAPI(render) };\r\n}\r\n", "import { createVnode } from \"./createVnode\";\r\nimport { isObject, isString, isArray, isVnode } from \"@mw/shared\";\r\n/**\r\n * @param {string} type \u5143\u7D20\r\n * @param {Object} props \u5C5E\u6027\r\n * @param {Array<any>} children\r\n */\r\nexport function h(type, props?, children?) {\r\n  // h\u51FD\u6570\u8C03\u7528\u4F20\u53C2\u79CD\u7C7B\u6BD4\u8F83\u591A\uFF0C\u9700\u8981\u505A\u5224\u65AD\r\n\r\n  const argLen = arguments.length;\r\n  if (argLen === 2) {\r\n    // \u5982\u679C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u6570\u7EC4\uFF0C\u90A3\u4E48\u5C31\u662Fchildren\r\n    if (isObject(props) && !isArray(props)) {\r\n      // \u5426\u5219\u662F\u4E2A\u5BF9\u8C61\uFF0C\u53EF\u80FD\u662Fvnode \u4E5F\u53EF\u80FD\u662Fprops\r\n      if (isVnode(props)) {\r\n        return createVnode(type, null, [props]);\r\n      } else {\r\n        return createVnode(type, props);\r\n      }\r\n    }\r\n    return createVnode(type, null, props);\r\n  } else {\r\n    if (argLen === 3 && isVnode(children)) {\r\n      children = [children];\r\n    }\r\n    if (argLen > 3) {\r\n      children = Array.from(arguments).slice(2);\r\n    }\r\n  }\r\n\r\n  return createVnode(type, props, children);\r\n}\r\n", "import { currentInstance } from \"./component\";\r\nexport function provide(key, value) {\r\n  // setup\u4E2D\u8FD0\u884C\r\n  if (!currentInstance) {\r\n    return;\r\n  }\r\n  let provides = currentInstance.provides;\r\n  const parentProvides = currentInstance?.parent?.provides;\r\n\r\n  if (parentProvides === provides) {\r\n    provides = currentInstance.provides = Object.create(provides);\r\n  }\r\n\r\n  provides[key] = value;\r\n}\r\n\r\nexport function inject(key, defaultValue) {\r\n  // setup\u4E2D\u8FD0\u884C\r\n  if (!currentInstance) {\r\n    return;\r\n  }\r\n  const provides = currentInstance.parent?.provides;\r\n  if (provides) {\r\n    if (key in provides) {\r\n      return provides[key];\r\n    } else {\r\n      return defaultValue;\r\n    }\r\n  }\r\n}\r\n", "import { getCurrentInstance } from \"../component\";\r\nimport { h } from \"../h\";\r\n\r\nexport function Transition(props, { slots }) {\r\n  return h(baseTransitionImpl, resolveTransitionProps(props), slots);\r\n}\r\n\r\n// \u6574\u5408\u7528\u6237\u4F20\u5165\u7684props\uFF0C\u5E76\u8C03\u7528\u7528\u6237\u903B\u8F91\uFF0C\u4E3A\u7EC4\u4EF6\u6DFB\u52A0\u5BF9\u5E94\u7684className\r\nconst resolveTransitionProps = (props) => {\r\n  const {\r\n    name = \"mw\",\r\n    enterFromClass = `${name}-enter-from`,\r\n    enterActiveClass = `${name}-enter-active`,\r\n    enterToClass = `${name}-enter-to`,\r\n    leaveFromClass = `${name}-leave-from`,\r\n    leaveActiveClass = `${name}-leave-active`,\r\n    leaveToClass = `${name}-leave-to`,\r\n\r\n    onBeforeEnter,\r\n    onEnter,\r\n    onLeave,\r\n    appear = false,\r\n  } = props;\r\n\r\n  return {\r\n    onBeforeEnter(el) {\r\n      onBeforeEnter && onBeforeEnter(el);\r\n      el.classList.add(enterFromClass);\r\n      el.classList.add(enterActiveClass);\r\n    },\r\n    onEnter(el, done) {\r\n      const resolve = () => {\r\n        el.classList.remove(enterFromClass);\r\n        el.classList.remove(enterActiveClass);\r\n        done?.();\r\n      };\r\n      onEnter && onEnter(el, resolve);\r\n\r\n      nextFrame(() => {\r\n        el.classList.remove(enterFromClass);\r\n        el.classList.add(enterToClass);\r\n        if (!onEnter || onEnter.length <= 1) {\r\n          el.addEventListener(\"transitionend\", resolve);\r\n        }\r\n      });\r\n    },\r\n    onLeave(el, done) {\r\n      const resolve = () => {\r\n        el.classList.remove(leaveActiveClass);\r\n        el.classList.remove(leaveToClass);\r\n        el.classList.add(enterToClass);\r\n        done?.();\r\n      };\r\n      onLeave && onLeave(el, resolve);\r\n      el.classList.add(leaveFromClass);\r\n      document.body.offsetWidth;\r\n      el.classList.add(leaveActiveClass);\r\n      nextFrame(() => {\r\n        el.classList.remove(leaveFromClass);\r\n        el.classList.add(leaveToClass);\r\n        if (!onLeave || onLeave.length <= 1) {\r\n          el.addEventListener(\"transitionend\", resolve);\r\n        }\r\n      });\r\n    },\r\n  };\r\n};\r\nfunction nextFrame(fn) {\r\n  requestAnimationFrame(() => {\r\n    requestAnimationFrame(fn);\r\n  });\r\n}\r\nconst baseTransitionImpl = {\r\n  props: {\r\n    onBeforeEnter: Function,\r\n    onEnter: Function,\r\n    onActiveEnter: Function,\r\n    onAfterEnter: Function,\r\n    onEnterCancelled: Function,\r\n    onBeforeLeave: Function,\r\n    onLeave: Function,\r\n    onAfterLeave: Function,\r\n    onLeaveCancelled: Function,\r\n    onBeforeAppear: Function,\r\n    onAppear: Function,\r\n    onAfterAppear: Function,\r\n  },\r\n  setup(props, { slots }) {\r\n    return () => {\r\n      const vnode = slots?.default();\r\n\r\n      if (!vnode) {\r\n        return;\r\n      }\r\n\r\n      vnode.transition = {\r\n        beforeEnter: props.onBeforeEnter,\r\n        enter: props.onEnter,\r\n        activeEnter: props.onActiveEnter,\r\n        afterEnter: props.onAfterEnter,\r\n        beforeLeave: props.onBeforeLeave,\r\n        leave: props.onLeave,\r\n      };\r\n\r\n      return vnode;\r\n    };\r\n  },\r\n};\r\n", "import { isFunction } from \"@mw/shared\";\r\nimport { h } from \"../h\";\r\nimport { ref } from \"@mw/reactivity\";\r\n\r\nexport function defineAsyncComponent(options) {\r\n  // \u7EDF\u4E00 \u683C\u5F0F \uFF1Aoptions\u53EF\u4EE5\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u53EF\u4EE5\u662F\u9009\u9879\u5F0F\r\n  if (isFunction(options)) {\r\n    options = { loader: options };\r\n  }\r\n\r\n  return {\r\n    setup() {\r\n      let loaded = ref(false);\r\n      let errored = ref(false);\r\n      let errReason = ref(\"\");\r\n      let loading = ref(false);\r\n      let loadingtimer = null;\r\n      let renderComponent = null;\r\n      let attempts = 0;\r\n\r\n      const {\r\n        loader,\r\n        errorComponent,\r\n        delay,\r\n        loadingComponent,\r\n        timeout,\r\n        onError,\r\n      } = options;\r\n      if (loadingComponent) {\r\n        loadingtimer = setTimeout(() => {\r\n          loading.value = true;\r\n        }, delay);\r\n      }\r\n\r\n      if (timeout) {\r\n        setTimeout(() => {\r\n          errored.value = true;\r\n          errReason.value = \"loading timeout ...\";\r\n          throw new Error(\"\u7EC4\u4EF6\u52A0\u8F7D\u8D85\u65F6 ...\");\r\n        }, timeout);\r\n      }\r\n\r\n      function handerLoader() {\r\n        return loader().catch((err) => {\r\n          if (onError) {\r\n            return new Promise((resolve, reject) => {\r\n              const retry = () => resolve(handerLoader());\r\n              const fail = () => reject(err);\r\n              onError(err, retry, fail, ++attempts);\r\n            });\r\n          } else {\r\n            throw err;\r\n          }\r\n        });\r\n      }\r\n\r\n      handerLoader()\r\n        .then((component) => {\r\n          renderComponent = component;\r\n          loaded.value = true;\r\n        })\r\n        .catch((err) => {\r\n          errored.value = err;\r\n        })\r\n        .finally(() => {\r\n          loading.value = false;\r\n          clearTimeout(loadingtimer);\r\n        });\r\n      return () => {\r\n        if (loaded.value) {\r\n          return h(renderComponent);\r\n        } else if (errored.value) {\r\n          return errorComponent\r\n            ? h(errorComponent, { reason: errReason.value })\r\n            : h(\"div\", errReason.value);\r\n        } else if (loading.value && loadingComponent) {\r\n          return h(loadingComponent);\r\n        } else {\r\n          // \u8FD9\u91CC\u5E94\u8BE5\u8FD4\u56DE\u4E00\u4E2A\u5360\u4F4D\u7B26 Common\u4E4B\u7C7B\u7684\r\n          return h(\"div\");\r\n        }\r\n      };\r\n    },\r\n  };\r\n}\r\n", "export const nodeOptions = {\r\n  createElement(tag) {\r\n    return document.createElement(tag);\r\n  },\r\n  setElementText(el, text) {\r\n    el.textContent = text;\r\n  },\r\n  insert(el, parent, anchor = null) {\r\n    parent.insertBefore(el, anchor);\r\n  },\r\n  remove(el) {\r\n    const parent = el?.parentNode;\r\n    if (parent) {\r\n      parent.removeChild(el);\r\n    }\r\n  },\r\n  createText(text) {\r\n    return document.createTextNode(text);\r\n  },\r\n  setText(node, text) {\r\n    node.nodeValue = text;\r\n  },\r\n  parentNode(node) {\r\n    return node.parentNode;\r\n  },\r\n  nextSbiling(node) {\r\n    return node.nextSibling;\r\n  },\r\n  patchProp(el, key, oldValue, newValue) {},\r\n};\r\n", "export default function patchAttr(el, prop, value) {\r\n  if (value == null) {\r\n    el.removeAttribute(prop);\r\n  } else {\r\n    el.setAttribute(prop, value);\r\n  }\r\n}\r\n", "/**\r\n * \u4E8B\u4EF6\u7ED1\u5B9A\r\n * @param {*} el DOM\r\n * @param {*} eventType \u4E8B\u4EF6\u7C7B\u578B\r\n * @param {*} handler \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\r\n * @returns void\r\n */\r\nexport default function patchEvent(el, eventType, handler) {\r\n  // debugger;\r\n  const invokers = el._evi || (el._evi = {});\r\n  const eventName = eventType.slice(2).toLowerCase();\r\n\r\n  const existingInvoker = invokers[eventType];\r\n\r\n  if (handler && existingInvoker) {\r\n    // \u540C\u540D\u4E8B\u4EF6\u91CD\u65B0\u7ED1\u5B9A\uFF0C\u7F13\u5B58\u91CC\u53D6\r\n    return (existingInvoker.value = handler);\r\n  }\r\n  // \u7F13\u5B58\u91CC\u6CA1\u6709\uFF0C\u521B\u5EFA\u4E00\u4E2A\r\n  if (handler) {\r\n    const invoker = createInvoker(handler);\r\n    invokers[eventType] = invoker;\r\n    el.addEventListener(eventName, invoker);\r\n  } else if (existingInvoker) {\r\n    // \u7F13\u5B58\u91CC\u6709\uFF0C\u5F53\u524D\u4E8B\u4EF6\u6CA1\u6709\u7ED1\u5B9A\uFF0C\u5220\u9664\u7F13\u5B58\r\n    el.removeEventListener(eventName, existingInvoker);\r\n    invokers[eventType] = null;\r\n  }\r\n}\r\n\r\n// \u521B\u5EFA\u65B0\u7684\u4E8B\u4EF6\u8C03\u7528\u51FD\u6570\r\nfunction createInvoker(handler) {\r\n  const invoker = (e) => invoker.value(e);\r\n  invoker.value = handler;\r\n  return invoker;\r\n}\r\n", "export default function patchStyle(el, prevVal, nextVal) {\r\n  const style = el.style;\r\n\r\n  if (nextVal === null) {\r\n    el.removeAttribute(\"style\");\r\n  } else {\r\n    for (let key in nextVal) {\r\n      style[key] = nextVal[key];\r\n    }\r\n    if (prevVal && typeof prevVal !== \"string\") {\r\n      for (let key in prevVal) {\r\n        if (nextVal[key] == null) {\r\n          style[key] = \"\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n", "export default function patchClass(el, value) {\r\n  if (value === null) {\r\n    el.removeAttribute(\"class\");\r\n  } else {\r\n    el.className = value;\r\n  }\r\n}\r\n", "import patchAttr from \"./modules/patchAttr\";\r\nimport patchEvent from \"./modules/patchEvent\";\r\nimport patchStyle from \"./modules/patchStyle\";\r\nimport patchClass from \"./modules/patchClass\";\r\n\r\n/**\r\n * @description: \u6BD4\u8F83\u5F53\u524Ddom\u7684\u5C5E\u6027\uFF08class\uFF0Cstyle\uFF0Cevnet\uFF0C\u81EA\u5B9A\u4E49\u5C5E\u6027\uFF09\r\n * @param { el } \u5F53\u524D\u5143\u7D20\r\n * @return {prop} \u5C5E\u6027\r\n * @param { preVal } \u65E7\u503C\r\n * @param { nextVal } \u65B0\u503C\r\n */\r\nexport const patchProps = (el, prop, preVal, nextVal) => {\r\n  if (prop === \"class\") {\r\n    return patchClass(el, nextVal);\r\n  } else if (prop === \"style\") {\r\n    return patchStyle(el, preVal, nextVal);\r\n  } else if (/^on[^a-z]/.test(prop)) {\r\n    return patchEvent(el, prop, nextVal);\r\n  } else {\r\n    return patchAttr(el, prop, nextVal);\r\n  }\r\n};\r\n", "export const TO_DISPLAY_STRING = Symbol(\"TO_DISPLAY_STRING\");\r\nexport const CREATE_ELEMENT_VNODE = Symbol(\"CREATE_ELEMENT_VNODE\");\r\nexport const CREATE_TEXT_VNODE = Symbol(\"CREATE_TEXT_VNODE\");\r\nexport const CREATE_COMMENT = Symbol(\"CREATE_COMMENT\");\r\nexport const CREATE_COMMENT_VNODE = Symbol(\"CREATE_COMMENT_VNODE\");\r\nexport const Fragment = Symbol(\"Fragment\");\r\nexport const OPEN_BLOCK = Symbol(\"OPEN_BLOCK\");\r\nexport const CREATE_ELEMENT_BLOCK = Symbol(\"CREATE_ELEMENT_BLOCK\");\r\n\r\nexport const helperMapName = {\r\n  [TO_DISPLAY_STRING]: \"toDisplayString\",\r\n  [CREATE_ELEMENT_VNODE]: \"createElementVNode\",\r\n  [CREATE_TEXT_VNODE]: \"createTextVNode\",\r\n  [CREATE_COMMENT]: \"createCommentVNode\",\r\n  [CREATE_COMMENT_VNODE]: \"createCommentVNode\",\r\n  [Fragment]: \"Fragment\",\r\n  [OPEN_BLOCK]: \"openBlock\",\r\n  [CREATE_ELEMENT_BLOCK]: \"createElementBlock\",\r\n};\r\n", "import {\r\n  CREATE_ELEMENT_VNODE,\r\n  CREATE_TEXT_VNODE,\r\n  helperMapName,\r\n  Fragment,\r\n} from \"./runtimeHelper\";\r\n\r\nexport const NodeTypes = {\r\n  ROOT: 0,\r\n  \"0\": \"ROOT\",\r\n  ELEMENT: 1,\r\n  \"1\": \"ELEMENT\",\r\n  TEXT: 2,\r\n  \"2\": \"TEXT\",\r\n  COMMENT: 3,\r\n  \"3\": \"COMMENT\",\r\n  SIMPLE_EXPRESSION: 4,\r\n  \"4\": \"SIMPLE_EXPRESSION\",\r\n  INTERPOLATION: 5,\r\n  \"5\": \"INTERPOLATION\",\r\n  ATTRIBUTE: 6,\r\n  \"6\": \"ATTRIBUTE\",\r\n  DIRECTIVE: 7,\r\n  \"7\": \"DIRECTIVE\",\r\n  COMPOUND_EXPRESSION: 8,\r\n  \"8\": \"COMPOUND_EXPRESSION\",\r\n  IF: 9,\r\n  \"9\": \"IF\",\r\n  IF_BRANCH: 10,\r\n  \"10\": \"IF_BRANCH\",\r\n  FOR: 11,\r\n  \"11\": \"FOR\",\r\n  TEXT_CALL: 12,\r\n  \"12\": \"TEXT_CALL\",\r\n  VNODE_CALL: 13,\r\n  \"13\": \"VNODE_CALL\",\r\n  JS_CALL_EXPRESSION: 14,\r\n  \"14\": \"JS_CALL_EXPRESSION\",\r\n  JS_OBJECT_EXPRESSION: 15,\r\n  \"15\": \"JS_OBJECT_EXPRESSION\",\r\n  JS_PROPERTY: 16,\r\n  \"16\": \"JS_PROPERTY\",\r\n  JS_ARRAY_EXPRESSION: 17,\r\n  \"17\": \"JS_ARRAY_EXPRESSION\",\r\n  JS_FUNCTION_EXPRESSION: 18,\r\n  \"18\": \"JS_FUNCTION_EXPRESSION\",\r\n  JS_CONDITIONAL_EXPRESSION: 19,\r\n  \"19\": \"JS_CONDITIONAL_EXPRESSION\",\r\n  JS_CACHE_EXPRESSION: 20,\r\n  \"20\": \"JS_CACHE_EXPRESSION\",\r\n  JS_BLOCK_STATEMENT: 21,\r\n  \"21\": \"JS_BLOCK_STATEMENT\",\r\n  JS_TEMPLATE_LITERAL: 22,\r\n  \"22\": \"JS_TEMPLATE_LITERAL\",\r\n  JS_IF_STATEMENT: 23,\r\n  \"23\": \"JS_IF_STATEMENT\",\r\n  JS_ASSIGNMENT_EXPRESSION: 24,\r\n  \"24\": \"JS_ASSIGNMENT_EXPRESSION\",\r\n  JS_SEQUENCE_EXPRESSION: 25,\r\n  \"25\": \"JS_SEQUENCE_EXPRESSION\",\r\n  JS_RETURN_STATEMENT: 26,\r\n  \"26\": \"JS_RETURN_STATEMENT\",\r\n};\r\n\r\nexport function createCallExpression(context, args = []) {\r\n  context.helpers.set(CREATE_TEXT_VNODE);\r\n\r\n  return {\r\n    type: NodeTypes.JS_CALL_EXPRESSION,\r\n    callee: helperMapName[CREATE_TEXT_VNODE],\r\n    arguments: args,\r\n  };\r\n}\r\n\r\nexport function createVnodeCall(context, tag, props, children) {\r\n  let key;\r\n\r\n  if (tag !== Fragment) {\r\n    key = context.helper(CREATE_ELEMENT_VNODE);\r\n  }\r\n  return {\r\n    type: NodeTypes.VNODE_CALL,\r\n    callee: key,\r\n    tag,\r\n    props,\r\n    children,\r\n  };\r\n}\r\n\r\nexport function createObjExpression(context, args = []) {\r\n  return {\r\n    type: NodeTypes.JS_OBJECT_EXPRESSION,\r\n    properties: args,\r\n  };\r\n}\r\n", "import { NodeTypes } from \"./ast\";\r\nimport {\r\n  regTag,\r\n  regSpaces,\r\n  regAttr,\r\n  regSpaceEqual,\r\n  regSpaceChar,\r\n} from \"@mw/shared\";\r\n\r\nfunction parse(template) {\r\n  const context = createParserContext(template);\r\n  return createRoot(parseChildren(context));\r\n}\r\n\r\nfunction createRoot(children) {\r\n  return {\r\n    type: NodeTypes.ROOT,\r\n    children,\r\n  };\r\n}\r\n\r\nfunction createParserContext(content) {\r\n  return {\r\n    originalSource: content,\r\n    source: content,\r\n    line: 1,\r\n    column: 1,\r\n    offset: 0,\r\n  };\r\n}\r\n\r\nfunction isEnd(context) {\r\n  const s = context.source;\r\n  if (s.startsWith(\"</\")) {\r\n    return true;\r\n  }\r\n  return !s;\r\n}\r\nfunction parseChildren(context) {\r\n  let nodes = [] as any;\r\n  // \u6709\u5185\u5BB9\u7EE7\u7EED\u5FAA\u73AF\r\n  while (!isEnd(context)) {\r\n    let node;\r\n    const c = context.source;\r\n    if (c.startsWith(\"{{\")) {\r\n      node = parseExpression(context);\r\n    } else if (c[0] === \"<\") {\r\n      node = parseElement(context);\r\n    } else {\r\n      node = parseText(context);\r\n    }\r\n    nodes.push(node);\r\n  }\r\n  // \u53BB\u9664\u7A7A\u8282\u70B9\r\n\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    let node = nodes[i];\r\n    if (node.type === NodeTypes.TEXT) {\r\n      if (!regSpaceChar.test(node.content)) {\r\n        nodes[i] = null;\r\n      } else {\r\n        node.content = node.content.replace(/[ \\t\\r\\n]+/g, \" \");\r\n      }\r\n    }\r\n  }\r\n  return nodes.filter((node) => !!node);\r\n}\r\n\r\n// \u89E3\u6790\u5143\u7D20\r\nfunction parseElement(context) {\r\n  const ele = parseTag(context);\r\n  // \u5F00\u59CB\u6807\u7B7E\u9012\u5F52 <div>\r\n  // \u6389\u8FC7\u7ED3\u675F\u6807\u7B7E </div>\r\n  const children = parseChildren(context);\r\n  if (context.source.startsWith(\"</\")) {\r\n    parseTag(context);\r\n  }\r\n\r\n  (ele as any).children = children;\r\n  (ele as any).loc = getSelection(context, ele.loc.start);\r\n\r\n  return ele;\r\n}\r\n\r\nfunction parseTag(context) {\r\n  const start = getCursor(context);\r\n  const match = regTag.exec(context.source);\r\n  const tag = match[1];\r\n  advanceBy(context, match[0].length);\r\n  advanceBySpaces(context);\r\n  let props = parseAttrs(context);\r\n\r\n  const isSelfClosing = context.source.startsWith(\"/>\");\r\n  advanceBy(context, isSelfClosing ? 2 : 1);\r\n\r\n  return {\r\n    type: NodeTypes.ELEMENT,\r\n    tag,\r\n    props,\r\n    isSelfClosing,\r\n    loc: getSelection(context, start),\r\n  };\r\n}\r\n\r\nfunction parseAttrs(context) {\r\n  let props = [];\r\n\r\n  while (context.source.length > 0 && !context.source.startsWith(\">\")) {\r\n    // \u89E3\u6790\u5C5E\u6027\r\n    const prop = parseAttr(context);\r\n    props.push(prop);\r\n    advanceBySpaces(context);\r\n  }\r\n\r\n  return props;\r\n}\r\n\r\n// \u89E3\u6790\u5C5E\u6027\u503C\r\nfunction parseAttrValue(context) {\r\n  let value;\r\n  let quote = context.source[0];\r\n\r\n  let isQuoted = quote === \"'\" || quote === '\"';\r\n  if (isQuoted) {\r\n    advanceBy(context, 1);\r\n    const endQuoteIndex = context.source.indexOf(quote, 1);\r\n    value = parseTextData(context, endQuoteIndex);\r\n    advanceBy(context, 1);\r\n  } else {\r\n    // \u5C06>\u4E5F\u53BB\u9664\r\n    value = context.source.match(/([^ \\t\\r\\n/>])+/)[1];\r\n    advanceBy(context, value.length);\r\n    advanceBySpaces(context);\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\n// \u89E3\u6790\u5C5E\u6027\r\nfunction parseAttr(context) {\r\n  const start = getCursor(context);\r\n  let match = regAttr.exec(context.source);\r\n  let name = match[0];\r\n  let value;\r\n  advanceBy(context, name.length);\r\n\r\n  if (regSpaceEqual.test(context.source)) {\r\n    advanceBySpaces(context);\r\n    advanceBy(context, 1);\r\n    advanceBySpaces(context);\r\n\r\n    value = parseAttrValue(context);\r\n  }\r\n\r\n  let valueLoc = getSelection(context, start);\r\n\r\n  return {\r\n    type: NodeTypes.ATTRIBUTE,\r\n    name: name,\r\n    value: {\r\n      type: NodeTypes.TEXT,\r\n      content: value,\r\n      loc: valueLoc,\r\n    },\r\n    loc: getSelection(context, start),\r\n  };\r\n}\r\n\r\n// \u89E3\u6790\u8868\u8FBE\u5F0F  {{ name }}\r\nfunction parseExpression(context) {\r\n  const start = getCursor(context);\r\n  // \u7ED3\u675F}}\u7684\u4E0B\u6807\uFF0C\u8DF3\u8FC7\u5F00\u59CB{{\r\n  const closeIndex = context.source.indexOf(\"}}\", \"{{\".length);\r\n  // \u5220\u9664 {{\r\n  advanceBy(context, 2);\r\n\r\n  const innerStart = getCursor(context);\r\n  const innerEnd = getCursor(context);\r\n  // \u83B7\u53D6content\r\n  const contentLength = closeIndex - \"{{\".length;\r\n  // \u5305\u542B\u7A7A\u683C\u7684\u5185\u5BB9\r\n  const preContent = parseTextData(context, contentLength);\r\n  const content = preContent.trim();\r\n  const startOffset = preContent.indexOf(content);\r\n\r\n  if (startOffset > 0) {\r\n    // \u5B9A\u4F4D\u524D\u9762\u7A7A\u683C\u7684\u4F4D\u7F6E\r\n    advancePositionWithMutation(innerStart, preContent, startOffset);\r\n  }\r\n  const endOffset = startOffset + content.length;\r\n  advancePositionWithMutation(innerEnd, preContent, endOffset);\r\n  advanceBy(context, 2);\r\n  return {\r\n    type: NodeTypes.INTERPOLATION,\r\n    content: {\r\n      type: NodeTypes.SIMPLE_EXPRESSION,\r\n      content,\r\n      loc: getSelection(context, innerStart, innerEnd),\r\n    },\r\n    loc: getSelection(context, start),\r\n  };\r\n}\r\n\r\n// \u89E3\u6790\u6587\u672C\r\nfunction parseText(context) {\r\n  const tokens = [\"<\", \"{{\"];\r\n\r\n  let endIndex = context.source.length;\r\n\r\n  for (let i = 0; i < tokens.length; i++) {\r\n    const index = context.source.indexOf(tokens[i]);\r\n    if (index !== -1 && index < endIndex) {\r\n      endIndex = index;\r\n    }\r\n  }\r\n  // \u627E\u5230\u6587\u672C\u7ED3\u675F\u6700\u8FD1\u7684\u7D22\u5F15\r\n  const content = parseTextData(context, endIndex);\r\n\r\n  return {\r\n    type: NodeTypes.TEXT,\r\n    content,\r\n  };\r\n}\r\n\r\n// \u622A\u53D6\u6587\u672C\r\nfunction parseTextData(context, endIndex) {\r\n  const content = context.source.slice(0, endIndex);\r\n  advanceBy(context, endIndex);\r\n\r\n  return content;\r\n}\r\n\r\nfunction advanceBySpaces(context) {\r\n  const match = regSpaces.exec(context.source);\r\n  if (match) {\r\n    advanceBy(context, match[0].length);\r\n  }\r\n}\r\nfunction advanceBy(context, endIndex) {\r\n  let s = context.source;\r\n  advancePositionWithMutation(context, s, endIndex);\r\n  context.source = s.slice(endIndex);\r\n}\r\n\r\nfunction advancePositionWithMutation(context, source, endIndex) {\r\n  let linesCount = 0;\r\n  let linePos = -1;\r\n  for (let i = 0; i < endIndex; i++) {\r\n    // \u6362\u884C\r\n\r\n    if (source.charCodeAt(i) === 10) {\r\n      linesCount++;\r\n      linePos = i;\r\n    }\r\n  }\r\n  context.line += linesCount;\r\n  context.column =\r\n    linePos === -1 ? context.column + endIndex : endIndex - linePos;\r\n  context.offset += endIndex;\r\n}\r\n\r\nfunction getSelection(context, start, nextEnd?) {\r\n  let end = nextEnd || getCursor(context);\r\n  // eslint \u53EF\u4EE5\u6839\u636E start\uFF0Cend\u627E\u5230\u8981\u62A5\u9519\u7684\u4F4D\u7F6E\r\n  return {\r\n    start,\r\n    end,\r\n    source: context.originalSource.slice(start.offset, end.offset),\r\n  };\r\n}\r\n\r\nfunction getCursor(context) {\r\n  let { line, column, offset } = context;\r\n  return { line, column, offset };\r\n}\r\n\r\nexport { parse };\r\n", "import { PatchFlags } from \"@mw/shared\";\r\nimport {\r\n  NodeTypes,\r\n  createCallExpression,\r\n  createObjExpression,\r\n  createVnodeCall,\r\n} from \"./ast\";\r\nimport {\r\n  CREATE_ELEMENT_BLOCK,\r\n  CREATE_ELEMENT_VNODE,\r\n  CREATE_TEXT_VNODE,\r\n  OPEN_BLOCK,\r\n  TO_DISPLAY_STRING,\r\n  Fragment,\r\n} from \"./runtimeHelper\";\r\n\r\nexport function transform(ast) {\r\n  const context = createTransformContext(ast);\r\n  // \u6839\u8282\u70B9\u60C5\u51B5\r\n  // 1.\u6587\u672C 2.\u4E00\u4E2A\u5143\u7D20createElementVnode - createElmentBlock 3.\u591A\u4E2A\u5143\u7D20  \u521B\u5EFAFragment\r\n\r\n  traverseNode(ast, context);\r\n\r\n  createRootCodegenNode(ast, context);\r\n\r\n  ast.helpers = [...context.helpers.keys()];\r\n}\r\n\r\nfunction createRootCodegenNode(ast, context) {\r\n  const { children } = ast;\r\n\r\n  if (children.length === 1) {\r\n    const child = children[0];\r\n\r\n    if (NodeTypes.ELEMENT === child.type) {\r\n      ast.codegenNode = child.codegenNode;\r\n      context.removeHelper(CREATE_ELEMENT_VNODE);\r\n      context.helper(CREATE_ELEMENT_BLOCK);\r\n      context.helper(OPEN_BLOCK);\r\n      ast.codegenNode.isBlock = true;\r\n    } else {\r\n      ast.codegenNode = child;\r\n    }\r\n  } else if (children.length > 0) {\r\n    ast.codegenNode = createVnodeCall(\r\n      context,\r\n      context.helper(Fragment),\r\n      null,\r\n      children\r\n    );\r\n    context.helper(CREATE_ELEMENT_BLOCK);\r\n    context.helper(OPEN_BLOCK);\r\n    ast.codegenNode.isBlock = true;\r\n  }\r\n}\r\n\r\nfunction traverseNode(node, context) {\r\n  context.currentNode = node;\r\n  let exits = []; // \u5904\u7406\u5B8C\u5143\u7D20\u672C\u6587\uFF0C\u53EF\u80FD\u5012\u5E8F\u6267\u884C\uFF0C\u56DE\u6EAF\r\n\r\n  const transforms = context.transformNode;\r\n\r\n  for (let i = 0; i < transforms.length; i++) {\r\n    const transfrom = transforms[i];\r\n    let exit = transfrom(node, context);\r\n\r\n    exit && exits.push(exit);\r\n  }\r\n\r\n  switch (node.type) {\r\n    case NodeTypes.ROOT:\r\n    // traverseChildren(node, context);\r\n    // break;\r\n    case NodeTypes.ELEMENT:\r\n      for (let i = 0; i < node.children.length; i++) {\r\n        context.parent = node;\r\n        traverseNode(node.children[i], context);\r\n      }\r\n      break;\r\n    // case NodeTypes.TEXT:\r\n    //   // traverseChildren(node, context);\r\n    //   break;\r\n\r\n    case NodeTypes.INTERPOLATION:\r\n      context.helper(TO_DISPLAY_STRING);\r\n      break;\r\n  }\r\n\r\n  context.currentNode = node; // \u8FD8\u539F\u5F53\u524D\u8282\u70B9\r\n\r\n  let tail = exits.length;\r\n  if (tail > 0) {\r\n    while (tail--) {\r\n      exits[tail]();\r\n    }\r\n  }\r\n}\r\n\r\n// \u521B\u5EFA\u6A21\u7248\u8F6C\u5316\u4E0A\u4E0B\u6587\r\nfunction createTransformContext(root) {\r\n  const context = {\r\n    root,\r\n    currentNode: root,\r\n    parent: null,\r\n    helpers: new Map(),\r\n    transformNode: [transformElement, transformText, transformExpression],\r\n\r\n    helper(key) {\r\n      let num = context.helpers.get(key) || 0;\r\n      context.helpers.set(key, num + 1);\r\n\r\n      return num;\r\n    },\r\n    removeHelper(key) {\r\n      let num = context.helpers.get(key);\r\n      if (num > 1) {\r\n        context.helpers.set(key, num - 1);\r\n      } else {\r\n        context.helpers.delete(key);\r\n      }\r\n    },\r\n  };\r\n\r\n  return context;\r\n}\r\n\r\nfunction transformElement(node, context) {\r\n  if (NodeTypes.ELEMENT === node.type) {\r\n    return function () {\r\n      //createVnodeCall\r\n      const { tag, props, children } = node;\r\n\r\n      const vnodeTag = tag;\r\n      let properties = [];\r\n\r\n      for (let i = 0; i < props.length; i++) {\r\n        const prop = props[i];\r\n        properties.push({ key: prop.name, value: prop.value.content });\r\n      }\r\n\r\n      const propsExpression =\r\n        properties.length > 0 ? createObjExpression(context) : null;\r\n\r\n      let vnodeChildren = null;\r\n      if (children.length === 1) {\r\n        vnodeChildren = children[0];\r\n      } else if (children.length > 1) {\r\n        vnodeChildren = children;\r\n      }\r\n\r\n      node.codegenNode = createVnodeCall(\r\n        context,\r\n        vnodeTag,\r\n        propsExpression,\r\n        vnodeChildren\r\n      );\r\n    };\r\n  }\r\n}\r\n\r\nfunction transformText(node, context) {\r\n  if (NodeTypes.ELEMENT === node.type || NodeTypes.ROOT === node.type) {\r\n    return function () {\r\n      let hasText = false;\r\n      let container = null;\r\n\r\n      const children = node.children;\r\n\r\n      for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n\r\n        if (isText(child)) {\r\n          hasText = true;\r\n\r\n          for (let j = i + 1; j < children.length; j++) {\r\n            const next = children[j];\r\n            if (isText(next)) {\r\n              if (!container) {\r\n                container = children[i] = {\r\n                  type: NodeTypes.COMPOUND_EXPRESSION,\r\n                  children: [child],\r\n                };\r\n              }\r\n\r\n              container.children.push(\" + \", child);\r\n              children.splice(j, 1);\r\n              j--;\r\n            } else {\r\n              container = null;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!hasText || children.length === 1) {\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < children.length; i++) {\r\n        let args = [];\r\n\r\n        const child = children[i];\r\n        if (isText(child) || child.type === NodeTypes.COMPOUND_EXPRESSION) {\r\n          args.push(child);\r\n          if (child.type !== NodeTypes.TEXT) {\r\n            args.push(PatchFlags.TEXT);\r\n          }\r\n        }\r\n\r\n        children[i] = {\r\n          type: NodeTypes.TEXT_CALL,\r\n          content: child,\r\n          codegenNode: createCallExpression(context, args),\r\n        };\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nfunction isText(node) {\r\n  return node.type === NodeTypes.TEXT || node.type === NodeTypes.INTERPOLATION;\r\n}\r\n\r\nfunction transformExpression(node, context) {\r\n  if (NodeTypes.INTERPOLATION === node.type) {\r\n    node.content.content = `_ctx.${node.content.content}`;\r\n  }\r\n}\r\n", "import { NodeTypes } from \"./ast\";\r\nimport { parse } from \"./parse\";\r\nimport {\r\n  CREATE_ELEMENT_BLOCK,\r\n  CREATE_ELEMENT_VNODE,\r\n  helperMapName,\r\n  OPEN_BLOCK,\r\n  TO_DISPLAY_STRING,\r\n} from \"./runtimeHelper\";\r\n\r\nimport { transform } from \"./transform\";\r\n\r\nexport function compile(template) {\r\n  const ast = parse(template);\r\n\r\n  transform(ast);\r\n\r\n  return generate(ast);\r\n}\r\n\r\nfunction generate(ast) {\r\n  const context = createCodegenContext(ast);\r\n  const { push, indent, deindent, newLine } = context;\r\n\r\n  push(`const _Mwvue = Mwvue`);\r\n\r\n  genFunction(ast, context);\r\n\r\n  const fnName = \"render\";\r\n  const args = [\"_ctx\", \"_cache\", \"$props\"];\r\n  push(`return `);\r\n  push(`function ${fnName}(${args.join(\",\")}){`);\r\n\r\n  indent();\r\n\r\n  push(`return `);\r\n\r\n  if (ast.codegenNode) {\r\n    // \u6839\u636E\u7C7B\u578B\u751F\u6210\u4EE3\u7801\r\n    genNode(ast.codegenNode, context);\r\n  } else {\r\n    push(\" null\");\r\n  }\r\n\r\n  deindent();\r\n  push(`}`);\r\n\r\n  return context.code;\r\n}\r\n\r\nfunction genNode(node, context) {\r\n  const { push, indent, deindent, newLine } = context;\r\n\r\n  switch (node.type) {\r\n    case NodeTypes.TEXT:\r\n      genText(node, context);\r\n      break;\r\n    // case NodeTypes.INTERPOLATION:\r\n    // genComment(node, context);\r\n    // break;\r\n    case NodeTypes.INTERPOLATION:\r\n      genInterpolation(node, context);\r\n      break;\r\n    case NodeTypes.SIMPLE_EXPRESSION:\r\n      genExpression(node, context);\r\n      break;\r\n    case NodeTypes.VNODE_CALL:\r\n      genVnodeCall(node, context);\r\n      break;\r\n  }\r\n}\r\n\r\nfunction genText(node, context) {\r\n  context.push(JSON.stringify(node.content));\r\n}\r\n\r\nfunction genVnodeCall(node, context) {\r\n  const { push, indent, deindent, newLine, helper } = context;\r\n  const { tag, props, children, isBlock } = node;\r\n\r\n  if (isBlock) {\r\n    push(`(${helper(OPEN_BLOCK)}(),`);\r\n  }\r\n\r\n  const help = isBlock\r\n    ? helper(CREATE_ELEMENT_BLOCK)\r\n    : helper(CREATE_ELEMENT_VNODE);\r\n  push(`${help}(`);\r\n\r\n  push(`\"div\",`);\r\n  push(`null,`);\r\n  push(`123`);\r\n\r\n  if (isBlock) {\r\n    push(`)`);\r\n  }\r\n\r\n  push(`)`);\r\n}\r\n\r\nfunction genExpression(node, context) {\r\n  context.push(node.content);\r\n}\r\nfunction genInterpolation(node, context) {\r\n  const { push, indent, deindent, newLine, helper } = context;\r\n\r\n  push(`${helper(TO_DISPLAY_STRING)}(`);\r\n\r\n  genNode(node.content, context);\r\n  push(`)`);\r\n}\r\nfunction genFunction(ast, context) {\r\n  const { push, indent, deindent, newLine, helper } = context;\r\n  newLine();\r\n\r\n  push(`console.log(333)`);\r\n\r\n  newLine();\r\n\r\n  if (ast.helpers.length > 0) {\r\n    push(\r\n      `const {${ast.helpers.map(\r\n        (key) => `${helperMapName[key]}:${helper(key)}`\r\n      )}} = _Mwvue`\r\n    );\r\n    newLine();\r\n  }\r\n\r\n  // deindent();\r\n  // push(`export `);\r\n}\r\n\r\nfunction createCodegenContext(ast) {\r\n  const context = {\r\n    code: \"\",\r\n    level: 0,\r\n    push(source) {\r\n      context.code += source;\r\n    },\r\n    helper(key) {\r\n      return `_${helperMapName[key]}`;\r\n    },\r\n    indent() {\r\n      newLine(++context.level);\r\n    },\r\n    deindent(noLine = false) {\r\n      if (noLine) {\r\n        --context.level;\r\n      } else {\r\n        newLine(--context.level);\r\n      }\r\n    },\r\n    newLine() {\r\n      newLine(context.level);\r\n    },\r\n  };\r\n\r\n  function newLine(l) {\r\n    context.push(`\\n${\"  \".repeat(l)}`);\r\n  }\r\n\r\n  return context;\r\n}\r\n", "import { extend } from \"@mw/shared\";\r\n\r\nimport { nodeOptions } from \"./nodeOptions\";\r\nimport { patchProps } from \"./patchProps\";\r\n\r\nimport { createRenderer, reactive } from \"@mw/runtime-core\";\r\n// domAPI\r\nconst rendererOptions = extend(nodeOptions, { patchProps });\r\n\r\n// \u81EA\u5B9A\u4E49\u6E32\u67D3\u5668\r\nexport const render = function (vnode, container) {\r\n  return createRenderer(rendererOptions).render(vnode, container);\r\n};\r\n\r\nexport const createApp = function (...args) {\r\n  return createRenderer(rendererOptions).createApp(...args);\r\n};\r\n\r\nexport * from \"@mw/runtime-core\";\r\nexport * from \"@mw/compiler-core\";\r\n"],
  "mappings": "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",
  "names": ["effect", "ref", "reactive", "source", "render", "Lifecycles", "render", "createApp", "rendererOptions", "render", "container", "anchor", "patchProps", "i", "Fragment", "Fragment", "Fragment"]
}
